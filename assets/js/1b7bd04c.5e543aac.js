"use strict";(self.webpackChunkwww_qroma_project=self.webpackChunkwww_qroma_project||[]).push([[2806],{13:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>c,default:()=>u,frontMatter:()=>d,metadata:()=>f,toc:()=>g});var o=t(4848),r=t(8453),i=t(6540),a=t(8478),s=t(2227);const l=e=>{const n=(0,s.d)(),[t,r]=(0,i.useState)(null),[a,l]=(0,i.useState)(null),[m,d]=(0,i.useState)("Not uploading");(0,i.useEffect)((()=>()=>{console.log("UNMOUNTING"),n.unsubscribe()}));const c=n.connectionState.isWebSerialConnected;return c?(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{children:["QromaCommFileUploadComponent - ",c?"CONNECTED":"NOT CONNECTED"]}),(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"file",onChange:e=>{const n=e.target.files?.[0];if(!n)return;const t=new FileReader;t.onload=e=>{const n=e.target?.result,t=new Uint8Array(n);r(t)},t.readAsArrayBuffer(n),l(n.name)}})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:()=>(async()=>{if(null!==t){const e="/"+a;d("Yes uploading now");const o=await n.writeFileContents(e,t);console.log("FILE UPLOAD"),console.log(e),console.log(t),console.log(o),d("Upload complete")}})(),disabled:null===t,children:"UPLOAD FILE"}),"UPLOADING STATUS: ",m]})]}):(0,o.jsx)("div",{children:(0,o.jsx)("button",{onClick:()=>(async()=>{n.init()})(),children:"START UPLOADER"})})},m=e=>(0,o.jsx)(l,{}),d={title:"Qroma Comm File Uploader"},c="Qroma Comm File Uploader",f={id:"upload-file",title:"Qroma Comm File Uploader",description:"{() => {",source:"@site/src/advanced-io/upload-file.md",sourceDirName:".",slug:"/upload-file",permalink:"/qroma-hat/advanced-io/upload-file",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Qroma Comm File Uploader"},sidebar:"advancedIoSidebar",previous:{title:"Qroma Comm File Explorer",permalink:"/qroma-hat/advanced-io/filesystem"}},p={},g=[];function h(e){const n={h1:"h1",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"qroma-comm-file-uploader",children:"Qroma Comm File Uploader"}),"\n","\n","\n",(0,o.jsx)(a.A,{children:()=>(0,o.jsx)(m,{})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},8478:(e,n,t)=>{t.d(n,{A:()=>i});t(6540);var o=t(2303),r=t(4848);function i(e){let{children:n,fallback:t}=e;return(0,o.A)()?(0,r.jsx)(r.Fragment,{children:n?.()}):t??null}},7506:(e,n,t)=>{t.d(n,{L_:()=>l,NF:()=>H,TV:()=>X});var o=t(8899),r=t(3923),i=t(5336),a=t(3724),s=t(3033);let l=function(e){return e[e.DIT_NOT_SET=0]="DIT_NOT_SET",e[e.DIT_FILE=1]="DIT_FILE",e[e.DIT_DIR=2]="DIT_DIR",e}({}),m=function(e){return e[e.WFDSC_NOT_SET=0]="WFDSC_NOT_SET",e[e.WFDSC_SUCCESS=1]="WFDSC_SUCCESS",e[e.WFDSC_ERR_OPEN_FILE=2]="WFDSC_ERR_OPEN_FILE",e[e.WFDSC_ERR_CRC_MISMATCH=3]="WFDSC_ERR_CRC_MISMATCH",e}({});class d extends a.G{constructor(){super("DirItem",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"dirItemType",kind:"enum",T:()=>["DirItemType",l]},{no:3,name:"filesize",kind:"scalar",T:13}])}create(e){const n={name:"",dirItemType:0,filesize:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.name=e.string();break;case 2:i.dirItemType=e.int32();break;case 3:i.filesize=e.uint32();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){""!==e.name&&n.tag(1,o.O0.LengthDelimited).string(e.name),0!==e.dirItemType&&n.tag(2,o.O0.Varint).int32(e.dirItemType),0!==e.filesize&&n.tag(3,o.O0.Varint).uint32(e.filesize);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const c=new d;class f extends a.G{constructor(){super("RmFileCommand",[{no:1,name:"filePath",kind:"scalar",T:9}])}create(e){const n={filePath:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.filePath=e.string();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){""!==e.filePath&&n.tag(1,o.O0.LengthDelimited).string(e.filePath);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const p=new f;class g extends a.G{constructor(){super("RmFileResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"rmFileCommand",kind:"message",T:()=>p}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.success=e.bool();break;case 2:i.rmFileCommand=p.internalBinaryRead(e,e.uint32(),t,i.rmFileCommand);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,o.O0.Varint).bool(e.success),e.rmFileCommand&&p.internalBinaryWrite(e.rmFileCommand,n.tag(2,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const h=new g;class u extends a.G{constructor(){super("RmDirCommand",[{no:1,name:"dirPath",kind:"scalar",T:9}])}create(e){const n={dirPath:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.dirPath=e.string();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){""!==e.dirPath&&n.tag(1,o.O0.LengthDelimited).string(e.dirPath);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const w=new u;class y extends a.G{constructor(){super("RmDirResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"rmDirCommand",kind:"message",T:()=>w}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.success=e.bool();break;case 2:i.rmDirCommand=w.internalBinaryRead(e,e.uint32(),t,i.rmDirCommand);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,o.O0.Varint).bool(e.success),e.rmDirCommand&&w.internalBinaryWrite(e.rmDirCommand,n.tag(2,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const k=new y;class C extends a.G{constructor(){super("MkDirCommand",[{no:1,name:"dirPath",kind:"scalar",T:9}])}create(e){const n={dirPath:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.dirPath=e.string();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){""!==e.dirPath&&n.tag(1,o.O0.LengthDelimited).string(e.dirPath);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const R=new C;class b extends a.G{constructor(){super("MkDirResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"mkDirCommand",kind:"message",T:()=>R}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.success=e.bool();break;case 2:i.mkDirCommand=R.internalBinaryRead(e,e.uint32(),t,i.mkDirCommand);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,o.O0.Varint).bool(e.success),e.mkDirCommand&&R.internalBinaryWrite(e.mkDirCommand,n.tag(2,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const T=new b;class D extends a.G{constructor(){super("ReportFileDataCommand",[{no:1,name:"filePath",kind:"scalar",T:9}])}create(e){const n={filePath:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.filePath=e.string();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){""!==e.filePath&&n.tag(1,o.O0.LengthDelimited).string(e.filePath);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const F=new D;class $ extends a.G{constructor(){super("ReportFileDataResponse",[{no:1,name:"fileStatus",kind:"enum",T:()=>["GetFileStatusCode",s.WH]},{no:2,name:"fileData",kind:"message",T:()=>s.HW}])}create(e){const n={fileStatus:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.fileStatus=e.int32();break;case 2:i.fileData=s.HW.internalBinaryRead(e,e.uint32(),t,i.fileData);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let l=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,l)}}return i}internalBinaryWrite(e,n,t){0!==e.fileStatus&&n.tag(1,o.O0.Varint).int32(e.fileStatus),e.fileData&&s.HW.internalBinaryWrite(e.fileData,n.tag(2,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const S=new $;class O extends a.G{constructor(){super("ListDirContentsCommand",[{no:1,name:"dirPath",kind:"scalar",T:9},{no:2,name:"startsWithConstraint",kind:"scalar",T:9},{no:3,name:"endsWithConstraint",kind:"scalar",T:9}])}create(e){const n={dirPath:"",startsWithConstraint:"",endsWithConstraint:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.dirPath=e.string();break;case 2:i.startsWithConstraint=e.string();break;case 3:i.endsWithConstraint=e.string();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){""!==e.dirPath&&n.tag(1,o.O0.LengthDelimited).string(e.dirPath),""!==e.startsWithConstraint&&n.tag(2,o.O0.LengthDelimited).string(e.startsWithConstraint),""!==e.endsWithConstraint&&n.tag(3,o.O0.LengthDelimited).string(e.endsWithConstraint);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const N=new O;class B extends a.G{constructor(){super("ListDirContentsResponse",[{no:1,name:"dirPath",kind:"scalar",T:9},{no:2,name:"success",kind:"scalar",T:8},{no:3,name:"dirItems",kind:"message",repeat:1,T:()=>c}])}create(e){const n={dirPath:"",success:!1,dirItems:[]};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.dirPath=e.string();break;case 2:i.success=e.bool();break;case 3:i.dirItems.push(c.internalBinaryRead(e,e.uint32(),t));break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){""!==e.dirPath&&n.tag(1,o.O0.LengthDelimited).string(e.dirPath),!1!==e.success&&n.tag(2,o.O0.Varint).bool(e.success);for(let i=0;i<e.dirItems.length;i++)c.internalBinaryWrite(e.dirItems[i],n.tag(3,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const W=new B;class E extends a.G{constructor(){super("PrintDirContentsCommand",[{no:1,name:"dirPath",kind:"scalar",T:9}])}create(e){const n={dirPath:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.dirPath=e.string();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){""!==e.dirPath&&n.tag(1,o.O0.LengthDelimited).string(e.dirPath);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}new E;class U extends a.G{constructor(){super("ResetFilesystemCommand",[{no:1,name:"dummy",kind:"scalar",T:8}])}create(e){const n={dummy:!1};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.dummy=e.bool();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){!1!==e.dummy&&n.tag(1,o.O0.Varint).bool(e.dummy);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const L=new U;class x extends a.G{constructor(){super("ResetFilesystemResponse",[{no:1,name:"success",kind:"scalar",T:8}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.success=e.bool();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,o.O0.Varint).bool(e.success);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const v=new x;class I extends a.G{constructor(){super("GetFileContentsCommand",[{no:1,name:"filePath",kind:"scalar",T:9}])}create(e){const n={filePath:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.filePath=e.string();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){""!==e.filePath&&n.tag(1,o.O0.LengthDelimited).string(e.filePath);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const P=new I;class j extends a.G{constructor(){super("GetFileContentsResponse",[{no:1,name:"statusCode",kind:"enum",T:()=>["GetFileStatusCode",s.WH]},{no:2,name:"fileData",kind:"message",T:()=>s.HW},{no:3,name:"fileBytes",kind:"scalar",T:12}])}create(e){const n={statusCode:0,fileBytes:new Uint8Array(0)};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.statusCode=e.int32();break;case 2:i.fileData=s.HW.internalBinaryRead(e,e.uint32(),t,i.fileData);break;case 3:i.fileBytes=e.bytes();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let l=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,l)}}return i}internalBinaryWrite(e,n,t){0!==e.statusCode&&n.tag(1,o.O0.Varint).int32(e.statusCode),e.fileData&&s.HW.internalBinaryWrite(e.fileData,n.tag(2,o.O0.LengthDelimited).fork(),t).join(),e.fileBytes.length&&n.tag(3,o.O0.LengthDelimited).bytes(e.fileBytes);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const K=new j;class A extends a.G{constructor(){super("WriteFileDataCommand",[{no:1,name:"fileData",kind:"message",T:()=>s.HW},{no:2,name:"fileBytes",kind:"scalar",T:12}])}create(e){const n={fileBytes:new Uint8Array(0)};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.fileData=s.HW.internalBinaryRead(e,e.uint32(),t,i.fileData);break;case 2:i.fileBytes=e.bytes();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let l=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,l)}}return i}internalBinaryWrite(e,n,t){e.fileData&&s.HW.internalBinaryWrite(e.fileData,n.tag(1,o.O0.LengthDelimited).fork(),t).join(),e.fileBytes.length&&n.tag(2,o.O0.LengthDelimited).bytes(e.fileBytes);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const Q=new A;class _ extends a.G{constructor(){super("WriteFileDataResponse",[{no:1,name:"statusCode",kind:"enum",T:()=>["WriteFileDataStatusCode",m]},{no:2,name:"command",kind:"message",T:()=>s.HW}])}create(e){const n={statusCode:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.statusCode=e.int32();break;case 2:i.command=s.HW.internalBinaryRead(e,e.uint32(),t,i.command);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let l=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,l)}}return i}internalBinaryWrite(e,n,t){0!==e.statusCode&&n.tag(1,o.O0.Varint).int32(e.statusCode),e.command&&s.HW.internalBinaryWrite(e.command,n.tag(2,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const G=new _;class M extends a.G{constructor(){super("FileSystemCommand",[{no:1,name:"getFileContentsCommand",kind:"message",oneof:"command",T:()=>P},{no:2,name:"writeFileDataCommand",kind:"message",oneof:"command",T:()=>Q},{no:4,name:"reportFileDataCommand",kind:"message",oneof:"command",T:()=>F},{no:5,name:"rmFileCommand",kind:"message",oneof:"command",T:()=>p},{no:9,name:"listDirContentsCommand",kind:"message",oneof:"command",T:()=>N},{no:10,name:"mkDirCommand",kind:"message",oneof:"command",T:()=>R},{no:11,name:"rmDirCommand",kind:"message",oneof:"command",T:()=>w},{no:15,name:"resetFilesystemCommand",kind:"message",oneof:"command",T:()=>L}])}create(e){const n={command:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.command={oneofKind:"getFileContentsCommand",getFileContentsCommand:P.internalBinaryRead(e,e.uint32(),t,i.command.getFileContentsCommand)};break;case 2:i.command={oneofKind:"writeFileDataCommand",writeFileDataCommand:Q.internalBinaryRead(e,e.uint32(),t,i.command.writeFileDataCommand)};break;case 4:i.command={oneofKind:"reportFileDataCommand",reportFileDataCommand:F.internalBinaryRead(e,e.uint32(),t,i.command.reportFileDataCommand)};break;case 5:i.command={oneofKind:"rmFileCommand",rmFileCommand:p.internalBinaryRead(e,e.uint32(),t,i.command.rmFileCommand)};break;case 9:i.command={oneofKind:"listDirContentsCommand",listDirContentsCommand:N.internalBinaryRead(e,e.uint32(),t,i.command.listDirContentsCommand)};break;case 10:i.command={oneofKind:"mkDirCommand",mkDirCommand:R.internalBinaryRead(e,e.uint32(),t,i.command.mkDirCommand)};break;case 11:i.command={oneofKind:"rmDirCommand",rmDirCommand:w.internalBinaryRead(e,e.uint32(),t,i.command.rmDirCommand)};break;case 15:i.command={oneofKind:"resetFilesystemCommand",resetFilesystemCommand:L.internalBinaryRead(e,e.uint32(),t,i.command.resetFilesystemCommand)};break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){"getFileContentsCommand"===e.command.oneofKind&&P.internalBinaryWrite(e.command.getFileContentsCommand,n.tag(1,o.O0.LengthDelimited).fork(),t).join(),"writeFileDataCommand"===e.command.oneofKind&&Q.internalBinaryWrite(e.command.writeFileDataCommand,n.tag(2,o.O0.LengthDelimited).fork(),t).join(),"reportFileDataCommand"===e.command.oneofKind&&F.internalBinaryWrite(e.command.reportFileDataCommand,n.tag(4,o.O0.LengthDelimited).fork(),t).join(),"rmFileCommand"===e.command.oneofKind&&p.internalBinaryWrite(e.command.rmFileCommand,n.tag(5,o.O0.LengthDelimited).fork(),t).join(),"listDirContentsCommand"===e.command.oneofKind&&N.internalBinaryWrite(e.command.listDirContentsCommand,n.tag(9,o.O0.LengthDelimited).fork(),t).join(),"mkDirCommand"===e.command.oneofKind&&R.internalBinaryWrite(e.command.mkDirCommand,n.tag(10,o.O0.LengthDelimited).fork(),t).join(),"rmDirCommand"===e.command.oneofKind&&w.internalBinaryWrite(e.command.rmDirCommand,n.tag(11,o.O0.LengthDelimited).fork(),t).join(),"resetFilesystemCommand"===e.command.oneofKind&&L.internalBinaryWrite(e.command.resetFilesystemCommand,n.tag(15,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const H=new M;class V extends a.G{constructor(){super("FileSystemResponse",[{no:1,name:"getFileContentsResponse",kind:"message",oneof:"response",T:()=>K},{no:2,name:"writeFileDataResponse",kind:"message",oneof:"response",T:()=>G},{no:4,name:"reportFileDataResponse",kind:"message",oneof:"response",T:()=>S},{no:5,name:"rmFileCommand",kind:"message",oneof:"response",T:()=>h},{no:9,name:"listDirContentsResponse",kind:"message",oneof:"response",T:()=>W},{no:10,name:"mkDirResponse",kind:"message",oneof:"response",T:()=>T},{no:11,name:"rmDirResponse",kind:"message",oneof:"response",T:()=>k},{no:15,name:"resetFilesystemResponse",kind:"message",oneof:"response",T:()=>v}])}create(e){const n={response:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.response={oneofKind:"getFileContentsResponse",getFileContentsResponse:K.internalBinaryRead(e,e.uint32(),t,i.response.getFileContentsResponse)};break;case 2:i.response={oneofKind:"writeFileDataResponse",writeFileDataResponse:G.internalBinaryRead(e,e.uint32(),t,i.response.writeFileDataResponse)};break;case 4:i.response={oneofKind:"reportFileDataResponse",reportFileDataResponse:S.internalBinaryRead(e,e.uint32(),t,i.response.reportFileDataResponse)};break;case 5:i.response={oneofKind:"rmFileCommand",rmFileCommand:h.internalBinaryRead(e,e.uint32(),t,i.response.rmFileCommand)};break;case 9:i.response={oneofKind:"listDirContentsResponse",listDirContentsResponse:W.internalBinaryRead(e,e.uint32(),t,i.response.listDirContentsResponse)};break;case 10:i.response={oneofKind:"mkDirResponse",mkDirResponse:T.internalBinaryRead(e,e.uint32(),t,i.response.mkDirResponse)};break;case 11:i.response={oneofKind:"rmDirResponse",rmDirResponse:k.internalBinaryRead(e,e.uint32(),t,i.response.rmDirResponse)};break;case 15:i.response={oneofKind:"resetFilesystemResponse",resetFilesystemResponse:v.internalBinaryRead(e,e.uint32(),t,i.response.resetFilesystemResponse)};break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){"getFileContentsResponse"===e.response.oneofKind&&K.internalBinaryWrite(e.response.getFileContentsResponse,n.tag(1,o.O0.LengthDelimited).fork(),t).join(),"writeFileDataResponse"===e.response.oneofKind&&G.internalBinaryWrite(e.response.writeFileDataResponse,n.tag(2,o.O0.LengthDelimited).fork(),t).join(),"reportFileDataResponse"===e.response.oneofKind&&S.internalBinaryWrite(e.response.reportFileDataResponse,n.tag(4,o.O0.LengthDelimited).fork(),t).join(),"rmFileCommand"===e.response.oneofKind&&h.internalBinaryWrite(e.response.rmFileCommand,n.tag(5,o.O0.LengthDelimited).fork(),t).join(),"listDirContentsResponse"===e.response.oneofKind&&W.internalBinaryWrite(e.response.listDirContentsResponse,n.tag(9,o.O0.LengthDelimited).fork(),t).join(),"mkDirResponse"===e.response.oneofKind&&T.internalBinaryWrite(e.response.mkDirResponse,n.tag(10,o.O0.LengthDelimited).fork(),t).join(),"rmDirResponse"===e.response.oneofKind&&k.internalBinaryWrite(e.response.rmDirResponse,n.tag(11,o.O0.LengthDelimited).fork(),t).join(),"resetFilesystemResponse"===e.response.oneofKind&&v.internalBinaryWrite(e.response.resetFilesystemResponse,n.tag(15,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const X=new V},9260:(e,n,t)=>{t.d(n,{_:()=>S,U:()=>N});var o=t(8899),r=t(3923),i=t(5336),a=t(3724),s=t(3033);class l extends a.G{constructor(){super("InitWriteFileStreamCommand",[{no:1,name:"fileData",kind:"message",T:()=>s.HW},{no:2,name:"fileStreamId",kind:"scalar",T:13}])}create(e){const n={fileStreamId:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.fileData=s.HW.internalBinaryRead(e,e.uint32(),t,i.fileData);break;case 2:i.fileStreamId=e.uint32();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let l=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,l)}}return i}internalBinaryWrite(e,n,t){e.fileData&&s.HW.internalBinaryWrite(e.fileData,n.tag(1,o.O0.LengthDelimited).fork(),t).join(),0!==e.fileStreamId&&n.tag(2,o.O0.Varint).uint32(e.fileStreamId);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const m=new l;class d extends a.G{constructor(){super("InitWriteFileStreamAckResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"fileStreamId",kind:"scalar",T:13},{no:3,name:"message",kind:"scalar",T:9}])}create(e){const n={success:!1,fileStreamId:0,message:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.success=e.bool();break;case 2:i.fileStreamId=e.uint32();break;case 3:i.message=e.string();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,o.O0.Varint).bool(e.success),0!==e.fileStreamId&&n.tag(2,o.O0.Varint).uint32(e.fileStreamId),""!==e.message&&n.tag(3,o.O0.LengthDelimited).string(e.message);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const c=new d;class f extends a.G{constructor(){super("WriteFileStreamCompleteResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"fileStreamId",kind:"scalar",T:13},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"fileData",kind:"message",T:()=>s.HW}])}create(e){const n={success:!1,fileStreamId:0,message:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.success=e.bool();break;case 2:i.fileStreamId=e.uint32();break;case 3:i.message=e.string();break;case 4:i.fileData=s.HW.internalBinaryRead(e,e.uint32(),t,i.fileData);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let l=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,l)}}return i}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,o.O0.Varint).bool(e.success),0!==e.fileStreamId&&n.tag(2,o.O0.Varint).uint32(e.fileStreamId),""!==e.message&&n.tag(3,o.O0.LengthDelimited).string(e.message),e.fileData&&s.HW.internalBinaryWrite(e.fileData,n.tag(4,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const p=new f;class g extends a.G{constructor(){super("InitReadFileStreamCommand",[{no:1,name:"filePath",kind:"scalar",T:9},{no:2,name:"fileStreamId",kind:"scalar",T:13}])}create(e){const n={filePath:"",fileStreamId:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.filePath=e.string();break;case 2:i.fileStreamId=e.uint32();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){""!==e.filePath&&n.tag(1,o.O0.LengthDelimited).string(e.filePath),0!==e.fileStreamId&&n.tag(2,o.O0.Varint).uint32(e.fileStreamId);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const h=new g;class u extends a.G{constructor(){super("InitReadFileStreamAckResponse",[{no:1,name:"fileStatus",kind:"enum",T:()=>["GetFileStatusCode",s.WH]},{no:2,name:"fileStreamId",kind:"scalar",T:13},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"fileData",kind:"message",T:()=>s.HW}])}create(e){const n={fileStatus:0,fileStreamId:0,message:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.fileStatus=e.int32();break;case 2:i.fileStreamId=e.uint32();break;case 3:i.message=e.string();break;case 4:i.fileData=s.HW.internalBinaryRead(e,e.uint32(),t,i.fileData);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let l=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,l)}}return i}internalBinaryWrite(e,n,t){0!==e.fileStatus&&n.tag(1,o.O0.Varint).int32(e.fileStatus),0!==e.fileStreamId&&n.tag(2,o.O0.Varint).uint32(e.fileStreamId),""!==e.message&&n.tag(3,o.O0.LengthDelimited).string(e.message),e.fileData&&s.HW.internalBinaryWrite(e.fileData,n.tag(4,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const w=new u;class y extends a.G{constructor(){super("ReadFileStreamCompleteResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"fileStreamId",kind:"scalar",T:13},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"fileData",kind:"message",T:()=>s.HW}])}create(e){const n={success:!1,fileStreamId:0,message:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.success=e.bool();break;case 2:i.fileStreamId=e.uint32();break;case 3:i.message=e.string();break;case 4:i.fileData=s.HW.internalBinaryRead(e,e.uint32(),t,i.fileData);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let l=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,l)}}return i}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,o.O0.Varint).bool(e.success),0!==e.fileStreamId&&n.tag(2,o.O0.Varint).uint32(e.fileStreamId),""!==e.message&&n.tag(3,o.O0.LengthDelimited).string(e.message),e.fileData&&s.HW.internalBinaryWrite(e.fileData,n.tag(4,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const k=new y;class C extends a.G{constructor(){super("QromaStreamCommand",[{no:1,name:"initWriteFileStreamCommand",kind:"message",oneof:"command",T:()=>m},{no:2,name:"initReadFileStreamCommand",kind:"message",oneof:"command",T:()=>h}])}create(e){const n={command:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.command={oneofKind:"initWriteFileStreamCommand",initWriteFileStreamCommand:m.internalBinaryRead(e,e.uint32(),t,i.command.initWriteFileStreamCommand)};break;case 2:i.command={oneofKind:"initReadFileStreamCommand",initReadFileStreamCommand:h.internalBinaryRead(e,e.uint32(),t,i.command.initReadFileStreamCommand)};break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){"initWriteFileStreamCommand"===e.command.oneofKind&&m.internalBinaryWrite(e.command.initWriteFileStreamCommand,n.tag(1,o.O0.LengthDelimited).fork(),t).join(),"initReadFileStreamCommand"===e.command.oneofKind&&h.internalBinaryWrite(e.command.initReadFileStreamCommand,n.tag(2,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const R=new C;class b extends a.G{constructor(){super("QromaStreamResponse",[{no:1,name:"initWriteFileStreamAckResponse",kind:"message",oneof:"response",T:()=>c},{no:2,name:"writeFileStreamCompleteResponse",kind:"message",oneof:"response",T:()=>p},{no:3,name:"initReadFileStreamAckResponse",kind:"message",oneof:"response",T:()=>w},{no:4,name:"readFileStreamCompleteResponse",kind:"message",oneof:"response",T:()=>k}])}create(e){const n={response:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.response={oneofKind:"initWriteFileStreamAckResponse",initWriteFileStreamAckResponse:c.internalBinaryRead(e,e.uint32(),t,i.response.initWriteFileStreamAckResponse)};break;case 2:i.response={oneofKind:"writeFileStreamCompleteResponse",writeFileStreamCompleteResponse:p.internalBinaryRead(e,e.uint32(),t,i.response.writeFileStreamCompleteResponse)};break;case 3:i.response={oneofKind:"initReadFileStreamAckResponse",initReadFileStreamAckResponse:w.internalBinaryRead(e,e.uint32(),t,i.response.initReadFileStreamAckResponse)};break;case 4:i.response={oneofKind:"readFileStreamCompleteResponse",readFileStreamCompleteResponse:k.internalBinaryRead(e,e.uint32(),t,i.response.readFileStreamCompleteResponse)};break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){"initWriteFileStreamAckResponse"===e.response.oneofKind&&c.internalBinaryWrite(e.response.initWriteFileStreamAckResponse,n.tag(1,o.O0.LengthDelimited).fork(),t).join(),"writeFileStreamCompleteResponse"===e.response.oneofKind&&p.internalBinaryWrite(e.response.writeFileStreamCompleteResponse,n.tag(2,o.O0.LengthDelimited).fork(),t).join(),"initReadFileStreamAckResponse"===e.response.oneofKind&&w.internalBinaryWrite(e.response.initReadFileStreamAckResponse,n.tag(3,o.O0.LengthDelimited).fork(),t).join(),"readFileStreamCompleteResponse"===e.response.oneofKind&&k.internalBinaryWrite(e.response.readFileStreamCompleteResponse,n.tag(4,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const T=new b;var D=t(7506),F=t(4870);class $ extends a.G{constructor(){super("QromaCommCommand",[{no:1,name:"appCommandBytes",kind:"scalar",oneof:"command",T:12},{no:2,name:"coreCommand",kind:"message",oneof:"command",T:()=>F.tp},{no:3,name:"fsCommand",kind:"message",oneof:"command",T:()=>D.NF},{no:4,name:"streamCommand",kind:"message",oneof:"command",T:()=>R}])}create(e){const n={command:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.command={oneofKind:"appCommandBytes",appCommandBytes:e.bytes()};break;case 2:i.command={oneofKind:"coreCommand",coreCommand:F.tp.internalBinaryRead(e,e.uint32(),t,i.command.coreCommand)};break;case 3:i.command={oneofKind:"fsCommand",fsCommand:D.NF.internalBinaryRead(e,e.uint32(),t,i.command.fsCommand)};break;case 4:i.command={oneofKind:"streamCommand",streamCommand:R.internalBinaryRead(e,e.uint32(),t,i.command.streamCommand)};break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){"appCommandBytes"===e.command.oneofKind&&n.tag(1,o.O0.LengthDelimited).bytes(e.command.appCommandBytes),"coreCommand"===e.command.oneofKind&&F.tp.internalBinaryWrite(e.command.coreCommand,n.tag(2,o.O0.LengthDelimited).fork(),t).join(),"fsCommand"===e.command.oneofKind&&D.NF.internalBinaryWrite(e.command.fsCommand,n.tag(3,o.O0.LengthDelimited).fork(),t).join(),"streamCommand"===e.command.oneofKind&&R.internalBinaryWrite(e.command.streamCommand,n.tag(4,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const S=new $;class O extends a.G{constructor(){super("QromaCommResponse",[{no:1,name:"appResponseBytes",kind:"scalar",oneof:"response",T:12},{no:2,name:"coreResponse",kind:"message",oneof:"response",T:()=>F.PF},{no:3,name:"fsResponse",kind:"message",oneof:"response",T:()=>D.TV},{no:5,name:"streamResponse",kind:"message",oneof:"response",T:()=>T}])}create(e){const n={response:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.response={oneofKind:"appResponseBytes",appResponseBytes:e.bytes()};break;case 2:i.response={oneofKind:"coreResponse",coreResponse:F.PF.internalBinaryRead(e,e.uint32(),t,i.response.coreResponse)};break;case 3:i.response={oneofKind:"fsResponse",fsResponse:D.TV.internalBinaryRead(e,e.uint32(),t,i.response.fsResponse)};break;case 5:i.response={oneofKind:"streamResponse",streamResponse:T.internalBinaryRead(e,e.uint32(),t,i.response.streamResponse)};break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){"appResponseBytes"===e.response.oneofKind&&n.tag(1,o.O0.LengthDelimited).bytes(e.response.appResponseBytes),"coreResponse"===e.response.oneofKind&&F.PF.internalBinaryWrite(e.response.coreResponse,n.tag(2,o.O0.LengthDelimited).fork(),t).join(),"fsResponse"===e.response.oneofKind&&D.TV.internalBinaryWrite(e.response.fsResponse,n.tag(3,o.O0.LengthDelimited).fork(),t).join(),"streamResponse"===e.response.oneofKind&&T.internalBinaryWrite(e.response.streamResponse,n.tag(5,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const N=new O},4870:(e,n,t)=>{t.d(n,{tp:()=>I,PT:()=>C,PF:()=>j});var o=t(8899),r=t(3923),i=t(5336),a=t(3724),s=t(3033);class l extends a.G{constructor(){super("QromaCommSerialIoConfig",[{no:1,name:"baudRate",kind:"scalar",T:13},{no:2,name:"rxBufferSize",kind:"scalar",T:13},{no:3,name:"txBufferSize",kind:"scalar",T:13}])}create(e){const n={baudRate:0,rxBufferSize:0,txBufferSize:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.baudRate=e.uint32();break;case 2:i.rxBufferSize=e.uint32();break;case 3:i.txBufferSize=e.uint32();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){0!==e.baudRate&&n.tag(1,o.O0.Varint).uint32(e.baudRate),0!==e.rxBufferSize&&n.tag(2,o.O0.Varint).uint32(e.rxBufferSize),0!==e.txBufferSize&&n.tag(3,o.O0.Varint).uint32(e.txBufferSize);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const m=new l;class d extends a.G{constructor(){super("QromaCommSerialProcessingConfig",[{no:1,name:"msDelayInProcessingLoop",kind:"scalar",T:13}])}create(e){const n={msDelayInProcessingLoop:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.msDelayInProcessingLoop=e.uint32();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){0!==e.msDelayInProcessingLoop&&n.tag(1,o.O0.Varint).uint32(e.msDelayInProcessingLoop);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const c=new d;class f extends a.G{constructor(){super("QromaCoreLoggingConfig",[{no:1,name:"logLevel",kind:"enum",T:()=>["Qroma_LogLevel",s.wK]}])}create(e){const n={logLevel:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.logLevel=e.int32();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){0!==e.logLevel&&n.tag(1,o.O0.Varint).int32(e.logLevel);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const p=new f;class g extends a.G{constructor(){super("HeartbeatConfiguration",[{no:1,name:"heartbeatType",kind:"enum",T:()=>["HeartbeatType",s.LS]},{no:2,name:"heartbeatIntervalInMs",kind:"scalar",T:13}])}create(e){const n={heartbeatType:0,heartbeatIntervalInMs:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.heartbeatType=e.int32();break;case 2:i.heartbeatIntervalInMs=e.uint32();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){0!==e.heartbeatType&&n.tag(1,o.O0.Varint).int32(e.heartbeatType),0!==e.heartbeatIntervalInMs&&n.tag(2,o.O0.Varint).uint32(e.heartbeatIntervalInMs);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const h=new g;class u extends a.G{constructor(){super("QromaCoreManagementConfiguration",[{no:1,name:"projectLoopDelayInMs",kind:"scalar",T:13},{no:2,name:"heartbeatConfiguration",kind:"message",T:()=>h}])}create(e){const n={projectLoopDelayInMs:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.projectLoopDelayInMs=e.uint32();break;case 2:i.heartbeatConfiguration=h.internalBinaryRead(e,e.uint32(),t,i.heartbeatConfiguration);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){0!==e.projectLoopDelayInMs&&n.tag(1,o.O0.Varint).uint32(e.projectLoopDelayInMs),e.heartbeatConfiguration&&h.internalBinaryWrite(e.heartbeatConfiguration,n.tag(2,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const w=new u;class y extends a.G{constructor(){super("QromaCoreConfig",[{no:1,name:"serialIoConfig",kind:"message",T:()=>m},{no:2,name:"serialProcessingConfig",kind:"message",T:()=>c},{no:3,name:"loggingConfig",kind:"message",T:()=>p},{no:4,name:"managementConfig",kind:"message",T:()=>w}])}create(e){const n={};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.serialIoConfig=m.internalBinaryRead(e,e.uint32(),t,i.serialIoConfig);break;case 2:i.serialProcessingConfig=c.internalBinaryRead(e,e.uint32(),t,i.serialProcessingConfig);break;case 3:i.loggingConfig=p.internalBinaryRead(e,e.uint32(),t,i.loggingConfig);break;case 4:i.managementConfig=w.internalBinaryRead(e,e.uint32(),t,i.managementConfig);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){e.serialIoConfig&&m.internalBinaryWrite(e.serialIoConfig,n.tag(1,o.O0.LengthDelimited).fork(),t).join(),e.serialProcessingConfig&&c.internalBinaryWrite(e.serialProcessingConfig,n.tag(2,o.O0.LengthDelimited).fork(),t).join(),e.loggingConfig&&p.internalBinaryWrite(e.loggingConfig,n.tag(3,o.O0.LengthDelimited).fork(),t).join(),e.managementConfig&&w.internalBinaryWrite(e.managementConfig,n.tag(4,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const k=new y;let C=function(e){return e[e.Qc_Nac_NotSet=0]="Qc_Nac_NotSet",e[e.Qc_Nac_GetQromaCoreConfig=1]="Qc_Nac_GetQromaCoreConfig",e[e.Qc_Nac_GetQromaCoreFirmwareDetails=2]="Qc_Nac_GetQromaCoreFirmwareDetails",e[e.Qc_Nac_DisableCoreHeartbeat=3]="Qc_Nac_DisableCoreHeartbeat",e[e.Qc_Nac_EnableCoreHeartbeat=4]="Qc_Nac_EnableCoreHeartbeat",e[e.Qc_Nac_DisableLogging=5]="Qc_Nac_DisableLogging",e[e.Qc_Nac_EnableAllLogging=6]="Qc_Nac_EnableAllLogging",e}({});class R extends a.G{constructor(){super("GetQromaCoreConfigCommand",[{no:1,name:"ignoreThis",kind:"scalar",T:13}])}create(e){const n={ignoreThis:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.ignoreThis=e.uint32();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){0!==e.ignoreThis&&n.tag(1,o.O0.Varint).uint32(e.ignoreThis);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}new R;class b extends a.G{constructor(){super("GetQromaCoreFirmwareDetailsCommand",[{no:1,name:"ignoreThis",kind:"scalar",T:13}])}create(e){const n={ignoreThis:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.ignoreThis=e.uint32();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){0!==e.ignoreThis&&n.tag(1,o.O0.Varint).uint32(e.ignoreThis);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}new b;class T extends a.G{constructor(){super("RestartQromaDeviceCommand",[{no:1,name:"areYouSure",kind:"scalar",T:8}])}create(e){const n={areYouSure:!1};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.areYouSure=e.bool();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){!1!==e.areYouSure&&n.tag(1,o.O0.Varint).bool(e.areYouSure);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const D=new T;class F extends a.G{constructor(){super("RestartQromaDeviceAck",[{no:1,name:"youWerentSureSoWeDidnt",kind:"scalar",T:13}])}create(e){const n={youWerentSureSoWeDidnt:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.youWerentSureSoWeDidnt=e.uint32();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){0!==e.youWerentSureSoWeDidnt&&n.tag(1,o.O0.Varint).uint32(e.youWerentSureSoWeDidnt);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const $=new F;class S extends a.G{constructor(){super("SetQromaCommSerialIoConfigCommand",[{no:1,name:"config",kind:"message",T:()=>m}])}create(e){const n={};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.config=m.internalBinaryRead(e,e.uint32(),t,i.config);else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){e.config&&m.internalBinaryWrite(e.config,n.tag(1,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const O=new S;class N extends a.G{constructor(){super("SetQromaCommSerialProcessingConfig",[{no:1,name:"config",kind:"message",T:()=>c}])}create(e){const n={};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.config=c.internalBinaryRead(e,e.uint32(),t,i.config);else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){e.config&&c.internalBinaryWrite(e.config,n.tag(1,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const B=new N;class W extends a.G{constructor(){super("SetQromaCoreLoggingConfigCommand",[{no:1,name:"config",kind:"message",T:()=>p}])}create(e){const n={};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.config=p.internalBinaryRead(e,e.uint32(),t,i.config);else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){e.config&&p.internalBinaryWrite(e.config,n.tag(1,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const E=new W;class U extends a.G{constructor(){super("SetHeartbeatConfigurationCommand",[{no:1,name:"config",kind:"message",T:()=>h}])}create(e){const n={};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.config=h.internalBinaryRead(e,e.uint32(),t,i.config);else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){e.config&&h.internalBinaryWrite(e.config,n.tag(1,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}new U;class L extends a.G{constructor(){super("SetQromaCoreManagementConfiguration",[{no:1,name:"config",kind:"message",T:()=>w}])}create(e){const n={};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();if(1===n)i.config=w.internalBinaryRead(e,e.uint32(),t,i.config);else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){e.config&&w.internalBinaryWrite(e.config,n.tag(1,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const x=new L;class v extends a.G{constructor(){super("QromaCoreCommand",[{no:1,name:"noArgCommand",kind:"enum",oneof:"command",T:()=>["QromaCoreNoArgCommands",C]},{no:2,name:"restartQromaDevice",kind:"message",oneof:"command",T:()=>D},{no:3,name:"setQromaCommSerialIoConfig",kind:"message",oneof:"command",T:()=>O},{no:4,name:"setQromaCommSerialProcessingConfig",kind:"message",oneof:"command",T:()=>B},{no:5,name:"setQromaCoreLoggingConfig",kind:"message",oneof:"command",T:()=>E},{no:6,name:"setQromaCoreManagementConfiguration",kind:"message",oneof:"command",T:()=>x}])}create(e){const n={command:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.command={oneofKind:"noArgCommand",noArgCommand:e.int32()};break;case 2:i.command={oneofKind:"restartQromaDevice",restartQromaDevice:D.internalBinaryRead(e,e.uint32(),t,i.command.restartQromaDevice)};break;case 3:i.command={oneofKind:"setQromaCommSerialIoConfig",setQromaCommSerialIoConfig:O.internalBinaryRead(e,e.uint32(),t,i.command.setQromaCommSerialIoConfig)};break;case 4:i.command={oneofKind:"setQromaCommSerialProcessingConfig",setQromaCommSerialProcessingConfig:B.internalBinaryRead(e,e.uint32(),t,i.command.setQromaCommSerialProcessingConfig)};break;case 5:i.command={oneofKind:"setQromaCoreLoggingConfig",setQromaCoreLoggingConfig:E.internalBinaryRead(e,e.uint32(),t,i.command.setQromaCoreLoggingConfig)};break;case 6:i.command={oneofKind:"setQromaCoreManagementConfiguration",setQromaCoreManagementConfiguration:x.internalBinaryRead(e,e.uint32(),t,i.command.setQromaCoreManagementConfiguration)};break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){"noArgCommand"===e.command.oneofKind&&n.tag(1,o.O0.Varint).int32(e.command.noArgCommand),"restartQromaDevice"===e.command.oneofKind&&D.internalBinaryWrite(e.command.restartQromaDevice,n.tag(2,o.O0.LengthDelimited).fork(),t).join(),"setQromaCommSerialIoConfig"===e.command.oneofKind&&O.internalBinaryWrite(e.command.setQromaCommSerialIoConfig,n.tag(3,o.O0.LengthDelimited).fork(),t).join(),"setQromaCommSerialProcessingConfig"===e.command.oneofKind&&B.internalBinaryWrite(e.command.setQromaCommSerialProcessingConfig,n.tag(4,o.O0.LengthDelimited).fork(),t).join(),"setQromaCoreLoggingConfig"===e.command.oneofKind&&E.internalBinaryWrite(e.command.setQromaCoreLoggingConfig,n.tag(5,o.O0.LengthDelimited).fork(),t).join(),"setQromaCoreManagementConfiguration"===e.command.oneofKind&&x.internalBinaryWrite(e.command.setQromaCoreManagementConfiguration,n.tag(6,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const I=new v;class P extends a.G{constructor(){super("QromaCoreResponse",[{no:1,name:"qromaCoreConfig",kind:"message",oneof:"response",T:()=>k},{no:2,name:"heartbeat",kind:"message",oneof:"response",T:()=>s.OU},{no:3,name:"firmwareDetails",kind:"message",oneof:"response",T:()=>s.Uq},{no:4,name:"restartAck",kind:"message",oneof:"response",T:()=>$}])}create(e){const n={response:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.response={oneofKind:"qromaCoreConfig",qromaCoreConfig:k.internalBinaryRead(e,e.uint32(),t,i.response.qromaCoreConfig)};break;case 2:i.response={oneofKind:"heartbeat",heartbeat:s.OU.internalBinaryRead(e,e.uint32(),t,i.response.heartbeat)};break;case 3:i.response={oneofKind:"firmwareDetails",firmwareDetails:s.Uq.internalBinaryRead(e,e.uint32(),t,i.response.firmwareDetails)};break;case 4:i.response={oneofKind:"restartAck",restartAck:$.internalBinaryRead(e,e.uint32(),t,i.response.restartAck)};break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let l=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,l)}}return i}internalBinaryWrite(e,n,t){"qromaCoreConfig"===e.response.oneofKind&&k.internalBinaryWrite(e.response.qromaCoreConfig,n.tag(1,o.O0.LengthDelimited).fork(),t).join(),"heartbeat"===e.response.oneofKind&&s.OU.internalBinaryWrite(e.response.heartbeat,n.tag(2,o.O0.LengthDelimited).fork(),t).join(),"firmwareDetails"===e.response.oneofKind&&s.Uq.internalBinaryWrite(e.response.firmwareDetails,n.tag(3,o.O0.LengthDelimited).fork(),t).join(),"restartAck"===e.response.oneofKind&&$.internalBinaryWrite(e.response.restartAck,n.tag(4,o.O0.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const j=new P},3033:(e,n,t)=>{t.d(n,{HW:()=>f,LS:()=>m,OU:()=>u,Uq:()=>g,WH:()=>l,wK:()=>s});var o=t(8899),r=t(3923),i=t(5336),a=t(3724);let s=function(e){return e[e.LogLevel_All=0]="LogLevel_All",e[e.LogLevel_Info=10]="LogLevel_Info",e[e.LogLevel_Error=100]="LogLevel_Error",e[e.LogLevel_Nothing=255]="LogLevel_Nothing",e}({}),l=function(e){return e[e.GFSC_NOT_SET=0]="GFSC_NOT_SET",e[e.GFSC_FILE_EXISTS=1]="GFSC_FILE_EXISTS",e[e.GFSC_ERR_OPEN_FILE=2]="GFSC_ERR_OPEN_FILE",e[e.GFSC_ERR_INVALID_FILE_PATH=3]="GFSC_ERR_INVALID_FILE_PATH",e}({}),m=function(e){return e[e.HeartbeatType_NotSet=0]="HeartbeatType_NotSet",e[e.HeartbeatType_None=1]="HeartbeatType_None",e[e.HeartbeatType_Interval=2]="HeartbeatType_Interval",e}({});class d extends a.G{constructor(){super("Qroma_LogMessage",[{no:1,name:"tick",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9}])}create(e){const n={tick:0,message:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.tick=e.uint32();break;case 2:i.message=e.string();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){0!==e.tick&&n.tag(1,o.O0.Varint).uint32(e.tick),""!==e.message&&n.tag(2,o.O0.LengthDelimited).string(e.message);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}new d;class c extends a.G{constructor(){super("FileData",[{no:1,name:"filename",kind:"scalar",T:9},{no:2,name:"filesize",kind:"scalar",T:13},{no:3,name:"checksum",kind:"scalar",T:13}])}create(e){const n={filename:"",filesize:0,checksum:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.filename=e.string();break;case 2:i.filesize=e.uint32();break;case 3:i.checksum=e.uint32();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){""!==e.filename&&n.tag(1,o.O0.LengthDelimited).string(e.filename),0!==e.filesize&&n.tag(2,o.O0.Varint).uint32(e.filesize),0!==e.checksum&&n.tag(3,o.O0.Varint).uint32(e.checksum);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const f=new c;class p extends a.G{constructor(){super("FirmwareDetails",[{no:1,name:"buildTime",kind:"scalar",T:9},{no:2,name:"qromaFirmwareLibVersion",kind:"scalar",T:9},{no:3,name:"qromaDeviceFirmwareVersion",kind:"scalar",T:9}])}create(e){const n={buildTime:"",qromaFirmwareLibVersion:"",qromaDeviceFirmwareVersion:""};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.buildTime=e.string();break;case 2:i.qromaFirmwareLibVersion=e.string();break;case 3:i.qromaDeviceFirmwareVersion=e.string();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){""!==e.buildTime&&n.tag(1,o.O0.LengthDelimited).string(e.buildTime),""!==e.qromaFirmwareLibVersion&&n.tag(2,o.O0.LengthDelimited).string(e.qromaFirmwareLibVersion),""!==e.qromaDeviceFirmwareVersion&&n.tag(3,o.O0.LengthDelimited).string(e.qromaDeviceFirmwareVersion);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const g=new p;class h extends a.G{constructor(){super("HeartbeatResponse",[{no:1,name:"uptimeInMs",kind:"scalar",T:13},{no:2,name:"heartbeatTicks",kind:"scalar",T:13}])}create(e){const n={uptimeInMs:0,heartbeatTicks:0};return globalThis.Object.defineProperty(n,i.$,{enumerable:!1,value:this}),void 0!==e&&(0,r.x)(this,n,e),n}internalBinaryRead(e,n,t,r){let i=r??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,r]=e.tag();switch(n){case 1:i.uptimeInMs=e.uint32();break;case 2:i.heartbeatTicks=e.uint32();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?o.f$.onRead:a)(this.typeName,i,n,r,s)}}return i}internalBinaryWrite(e,n,t){0!==e.uptimeInMs&&n.tag(1,o.O0.Varint).uint32(e.uptimeInMs),0!==e.heartbeatTicks&&n.tag(2,o.O0.Varint).uint32(e.heartbeatTicks);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.f$.onWrite:r)(this.typeName,e,n),n}}const u=new h},2227:(e,n,t)=>{t.d(n,{d:()=>d});var o=t(6995),r=t(2046),i=t(6540),a=t(1042),s=t(6967),l=t(3033);const m=e=>{let n,t,i="awaiting-init-ack",a=!1,m=-1,d=!1,c=new Uint8Array,f=!1;const p=e=>(console.log("IN DFC RX"),console.log(e),"streamResponse"!==e.response.oneofKind||"initReadFileStreamAckResponse"!==e.response.streamResponse.response.oneofKind||(console.log("ACK RX - initReadFileStreamAckResponse"),i="awaiting-all-bytes",n=e.response.streamResponse.response.initReadFileStreamAckResponse,a=n.fileStatus===l.WH.GFSC_FILE_EXISTS,n.fileStatus!==l.WH.GFSC_FILE_EXISTS&&(console.log("UNSUCCESSFUL ACK RESPONSE"),console.log(n),i="complete-err"),m=n.fileData.filesize,i="awaiting-all-bytes",console.log("CHECK FOR ACK RESULT DONE"),!1)),g=e=>{if("streamResponse"===e.response.oneofKind&&"readFileStreamCompleteResponse"===e.response.streamResponse.response.oneofKind){if(console.log("COMPLETE RX - readFileStreamCompleteResponse"),t=e.response.streamResponse.response.readFileStreamCompleteResponse,f=t.success,!f)return console.log("UNSUCCESSFUL TX COMPLETE RESPONSE"),console.log(t),void(i="complete-err");const r=(0,o.QR)(c);if(r!==n.fileData.checksum)return console.log("TX CHECKSUM MISMATCH"),console.log(n),console.log(r),console.log(c),void(i="complete-err");i="complete-success"}return!0},h=Date.now()+e,u=(0,s.p)("downloadRx");return console.log("CREATING DEFAULT QROMA PARSER"),{hasTimeoutOccurred:()=>Date.now()>h,onTimeout:()=>{console.log("IQromaCommDownloadFileContentsRxHandler timed out")},onRx:e=>{console.log("xyz");try{switch(console.log("abc"),console.log("IQromaCommDownloadFileContentsRxHandler - onRx!!!()"),console.log("IQromaCommDownloadFileContentsRxHandler - onRx2()",i,e),console.log("#4"),console.log("IQromaCommDownloadFileContentsRxHandler - onRx3()a"),console.log(i),i){case"awaiting-init-ack":return console.log("start to handle init ack check"),u.parse(e,p);case"awaiting-all-bytes":return(e=>{const n=m-c.length,t=e.slice(0,n),o=e.slice(n);return c=(0,r.KC)(c,t),console.log("TOTAL FILE BYTES COUNT: "+c.length),c.length>=m&&(i="awaiting-msg-complete",d=!0,console.log("ALL FILE BYTES RECEIVED: "+c.length),console.log(o)),o})(e);case"awaiting-msg-complete":return u.parse(e,g);default:return console.log("UNEXPECTED DOWNLOAD STAGE"),console.log(i),new Uint8Array}}catch(n){console.log("ON RX ERROR"),console.log(n)}return new Uint8Array},isRxComplete:()=>"complete-success"===i||"complete-err"===i,getFileBytes:()=>c,getDownloadStage:()=>i,getAckResponse:()=>n,getTxCompleteResult:()=>t}},d=()=>{console.log("STARTING QromaCommFileSystemRxApi");const[e,n]=(0,i.useState)({isConnected:!1,isMonitorOn:!1,isPortConnected:!1,isQromaMonitoringOn:!1,isWebSerialConnected:!1,keepQromaMonitoringOn:!1}),t=(0,a.o)((e=>{var t;console.log("ON CONN CHANGE"),t=e,console.log("SET CONNECTION STATE"),console.log(t),n(t)})),l=async(e,n)=>{const r=(0,o.QR)(n),i={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"writeFileDataCommand",writeFileDataCommand:{fileBytes:n,fileData:{filename:e,filesize:n.length,checksum:r}}}}}};await t.sendQromaCommCommand(i)},d=async(e,n)=>{const i=(0,o.QR)(n),a={command:{oneofKind:"streamCommand",streamCommand:{command:{oneofKind:"initWriteFileStreamCommand",initWriteFileStreamCommand:{fileStreamId:Math.floor(Date.now()/1e3),fileData:{filename:e,filesize:n.length,checksum:i}}}}}},l=await(async()=>{let e,n=!1;const o=Date.now()+2500,i=(0,s.p)("_streamFileContentsAck"),l=n=>(console.log("CHECKING MESSAGES FOR STREAM ACK"),console.log(n),"streamResponse"===n.response.oneofKind&&"initWriteFileStreamAckResponse"===n.response.streamResponse.response.oneofKind&&(console.log("FOUND IT! RX rxOnQromaCommAckResponse"),console.log(n),e=n.response.streamResponse.response.initWriteFileStreamAckResponse),!0);let m={hasTimeoutOccurred:()=>Date.now()>o,onTimeout:()=>{n=!0},onRx:e=>{console.log("RX rxOnQromaCommAckResponse ??");const n=i.parse(e,l);return console.log(n),n},isRxComplete:()=>void 0!==e};return(0,r.j2)("pre sendQromaCommCommandRx() - init write"),await t.sendQromaCommCommandRx(a,m),(0,r.j2)("done sendQromaCommCommandRx - init write"),console.log(e),console.log(n),void 0!==e})();console.log("initSuccess RESPONSE"),console.log(l);(async e=>{await t.qromaWebSerial.sendBytesInChunks(e,50,50)})(n),console.log("DONE WAITING FOR STREAQM SEND");const m=await(async()=>{let e=!1;const o=1.5*n.length,r=Date.now()+o,i=(0,s.p)("_waitForUploadToComplete"),a=e=>(console.log("CHECKING MESSAGES FOR STREAM COMPLETE"),console.log(e),"streamResponse"===e.response.oneofKind&&"writeFileStreamCompleteResponse"===e.response.streamResponse.response.oneofKind&&(console.log("FILTER SUCCESS"),l=e.response.streamResponse.response.writeFileStreamCompleteResponse),!0);let l,m={hasTimeoutOccurred:()=>Date.now()>r,onTimeout:()=>{console.log("RX rxOnQromaCommCompleteResponse TIMED OUT"),e=!0},onRx:e=>(console.log("RX rxOnQromaCommCompleteResponse"),i.parse(e,a)),isRxComplete:()=>{const e=void 0!==l;return console.log("UPLOAD RX IS COMPLETE? CHECK: "+e),e}};return await t.monitorRx(m),console.log("DONE WAITING FOR RX COMPLETE CHECK"),console.log(m.isRxComplete()),console.log(m.hasTimeoutOccurred()),console.log("RECEIVED SEND COMPLETE RESPONSE"),console.log(l),console.log(e),void 0!==l})();console.log("uploadComplete RESPONSE"),console.log(m)};return{init:()=>{t.startMonitoring()},getFileDetailsRx:async e=>{console.log("GET FILE DETAILS RX");const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"reportFileDataCommand",reportFileDataCommand:{filePath:e}}}}};let o,r=!1;const i=Date.now()+2e3,a=(0,s.p)("getFileDetailsRx"),l=e=>("fsResponse"===e.response.oneofKind&&"reportFileDataResponse"===e.response.fsResponse.response.oneofKind&&(o=e.response.fsResponse.response.reportFileDataResponse),!0);let m={hasTimeoutOccurred:()=>Date.now()>i,onTimeout:()=>{r=!0},onRx:e=>a.parse(e,l),isRxComplete:()=>void 0!==o};return await t.sendQromaCommCommandRx(n,m),console.log("FILE DETAILS RESULT RX"),console.log(o),console.log(r),o},getFileContents:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"getFileContentsCommand",getFileContentsCommand:{filePath:e}}}}};let o,r=!1;const i=Date.now()+2e3,a=(0,s.p)("getFileDetailsRx"),l=e=>("fsResponse"===e.response.oneofKind&&"getFileContentsResponse"===e.response.fsResponse.response.oneofKind&&(o=e.response.fsResponse.response.getFileContentsResponse),!0);let m={hasTimeoutOccurred:()=>Date.now()>i,onTimeout:()=>{r=!0},onRx:e=>a.parse(e,l),isRxComplete:()=>void 0!==o};return await t.sendQromaCommCommandRx(n,m),console.log("GetFileContentsResponse RX"),console.log(o),console.log(r),o},writeFileContents:async(e,n)=>n.length<500?await l(e,n):await d(e,n),downloadFileContents:async e=>{const n={command:{oneofKind:"streamCommand",streamCommand:{command:{oneofKind:"initReadFileStreamCommand",initReadFileStreamCommand:{filePath:e,fileStreamId:Math.floor(Date.now()/1e3)}}}}},o=m(5e3);return await t.sendQromaCommCommandRx(n,o),"complete-success"===o.getDownloadStage()?o.getFileBytes():(console.log("DOWNLOAD DIDN'T COMPLETE SUCCESSFULLY"),console.log(o),null)},rmFile:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"rmFileCommand",rmFileCommand:{filePath:e}}}}};console.log(n),await t.sendQromaCommCommand(n)},listDir:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"listDirContentsCommand",listDirContentsCommand:{dirPath:e,startsWithConstraint:"",endsWithConstraint:""}}}}};let o,r=!1;const i=Date.now()+2e3,a=(0,s.p)("listDir"),l=e=>("fsResponse"===e.response.oneofKind&&"listDirContentsResponse"===e.response.fsResponse.response.oneofKind&&(o=e.response.fsResponse.response.listDirContentsResponse),!0);let m={hasTimeoutOccurred:()=>Date.now()>i,onTimeout:()=>{r=!0},onRx:e=>a.parse(e,l),isRxComplete:()=>void 0!==o};return await t.sendQromaCommCommandRx(n,m),console.log("listDir RESULT RX"),console.log(o),console.log(r),o},mkDir:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"mkDirCommand",mkDirCommand:{dirPath:e}}}}};let o,r=!1;const i=Date.now()+2e3,a=(0,s.p)("mkDir"),l=e=>("fsResponse"===e.response.oneofKind&&"listDirContentsResponse"===e.response.fsResponse.response.oneofKind&&(o=e.response.fsResponse.response.listDirContentsResponse),!0);let m={hasTimeoutOccurred:()=>Date.now()>i,onTimeout:()=>{r=!0},onRx:e=>a.parse(e,l),isRxComplete:()=>void 0!==o};return await t.sendQromaCommCommandRx(n,m),console.log("mkDir RESULT RX"),console.log(o),console.log(r),o},rmDir:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"rmDirCommand",rmDirCommand:{dirPath:e}}}}};await t.sendQromaCommCommand(n)},connectionState:t.getConnectionState(),unsubscribe:t.unsubscribe}}},6967:(e,n,t)=>{t.d(n,{p:()=>i});var o=t(8287),r=t(9260);const i=e=>({parse:(n,t)=>{let i=new Uint8Array(n),a=!0;for(;a;){let n=i.findIndex((e=>10===e));if(-1===n)return i;if(0!==n)try{const l=i.slice(0,n);i=i.slice(n+1,i.length);const m=(new TextDecoder).decode(l);console.log("QCP - DEV RESPONSE: "+m),console.log("QCP - DEV REMAINING: "+(new TextDecoder).decode(i));try{const i=o.hp.from(m,"base64"),s=r.U.fromBinary(i);console.log("RESPONSE FROM BYTES - "+e),console.log(s),console.log("DefaultQromaParser - parse() has QC response"),console.log(s),n=0,a=t(s),a||console.log("QROMA COMM PARSING CANCELED")}catch(s){}}catch(s){}else i=i.slice(1,i.length)}return i}})},1042:(e,n,t)=>{t.d(n,{o:()=>s});var o=t(8287),r=t(4724),i=t(9260),a=t(2046);const s=e=>{if(!window)throw Error("Not running in a browser");let n,t=new Uint8Array;const s=e=>{n=e,console.log("ENTER RX MODE",n)},l=()=>{n=void 0,console.log("EXIT RX MODE",n)},m=(0,r.a)((e=>{console.log("QromaCommWebSerial RX - onData - "+e.length+" bytes"),console.log(n),console.log(e);let o=(0,a.KC)(t,e);if(n){console.log("QROMA COMM RX PARSING");let e=o,i=e.length+1;for(;e.length<i;)console.log("ONRX DATA"),console.log(e),i=e.length,e=n.onRx(e);r=e,console.log("SETTING RX BUFFER"),console.log(r),t=r,console.log("FINISH QROMA COMM RX PARSING")}var r}),e);return{startMonitoring:async()=>{try{console.log("COMM WEB SERIAL - START"),m.startMonitoring(),console.log("COMM WEB SERIAL - START - CONNECTED")}catch(e){console.log("COMM WEB SERIAL - ON CONNECTION FALSE"),console.log(e)}},getConnectionState:m.getConnectionState,stopMonitoring:m.stopMonitoring,sendQromaCommCommand:async e=>{if(!m.getConnectionState().isWebSerialConnected)return console.log("sendQromaCommCommand - CAN'T SEND COMMAND - NO CONNECTION"),void console.log(e);const n=i._.toBinary(e);console.log(n);const t=o.hp.from(n).toString("base64")+"\n";console.log(t),console.log(t.length),await m.sendString(t)},sendQromaCommCommandRx:async(e,t)=>{if(console.log("STARTING sendQromaCommCommandRx()"),!m.getConnectionState().isWebSerialConnected)return console.log("sendQromaCommCommand - CAN'T SEND COMMAND - NO CONNECTION"),void console.log(e);if(void 0!==n){const e="_qromaCommRxHandler already assigned - not handling";throw console.log(e),new Error(e)}const r=i._.toBinary(e);console.log(r);const d=o.hp.from(r).toString("base64")+"\n";for(console.log(d),console.log(d.length),s(t),m.sendString(d),(0,a.j2)("START WAITING FOR COMM RX TO COMPLETE");!t.isRxComplete()&&!t.hasTimeoutOccurred();)(0,a.j2)("WAITING FOR COMM RX TO COMPLETE - "),await(0,a.yy)(25);console.log("IS RX COMPLETE???"),console.log(t.isRxComplete()),console.log(t.hasTimeoutOccurred()),l()},monitorRx:async e=>{for(s(e);!e.isRxComplete()&&!e.hasTimeoutOccurred();)await(0,a.yy)(25);l()},qromaWebSerial:m,unsubscribe:m.unsubscribe}}}}]);