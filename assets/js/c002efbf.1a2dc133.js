"use strict";(self.webpackChunkwww_qroma_project=self.webpackChunkwww_qroma_project||[]).push([[2421],{9352:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>m,toc:()=>c});var t=o(4848),a=o(8453),r=o(8478),s=o(2281);const i={title:"Send Qroma Comm Message"},l="Qroma Send Qroma Comm Message MD",m={type:"mdx",permalink:"/qroma-hat/qroma-io/sendQromaMessage",source:"@site/src/pages/qroma-io/sendQromaMessage.md",title:"Send Qroma Comm Message",description:"{() =>",frontMatter:{title:"Send Qroma Comm Message"},unlisted:!1},d={},c=[];function g(e){const n={h1:"h1",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"qroma-send-qroma-comm-message-md",children:"Qroma Send Qroma Comm Message MD"}),"\n","\n","\n",(0,t.jsx)(r.A,{children:()=>(0,t.jsx)(s.fz,{})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},8478:(e,n,o)=>{o.d(n,{A:()=>r});o(6540);var t=o(2303),a=o(4848);function r(e){let{children:n,fallback:o}=e;return(0,t.A)()?(0,a.jsx)(a.Fragment,{children:n?.()}):o??null}},2281:(e,n,o)=>{o.d(n,{L_:()=>M.L_,OH:()=>r,_T:()=>g._,DW:()=>H,N:()=>W,Tu:()=>$,PS:()=>P,Zx:()=>X,C_:()=>z,fz:()=>J,EV:()=>ee,vC:()=>Z,yy:()=>p.yy,xk:()=>j,QH:()=>I});var t=o(6540),a=o(4848);const r=e=>{const n=(0,a.jsx)("div",{slot:"activate",children:(0,a.jsx)("button",{color:"primary",children:e.label})},"activate"),o=(0,a.jsx)("span",{slot:"unsupported",children:"Sorry - your browser isn't supported. You will need to use Google Chrome or Microsoft Edge to connect or install instead."},"unsupported"),r=(0,a.jsx)("span",{slot:"not-allowed",children:"Not allowed on HTTP (requires HTTPS connection)"},"not-allowed"),s=t.createElement("esp-web-install-button",{manifest:e.manifestPath,children:[n,o,r]});return(0,a.jsxs)(t.Fragment,{children:[(0,a.jsx)("p",{children:e.instructionsText}),s]})};var s=o(8287),i=o(2280);const l=e=>{let{obj:n}=e;return(0,a.jsx)("ul",{children:Object.entries(n).map((e=>{let[n,o]=e;return(0,a.jsx)("li",{children:(0,a.jsx)(d,{name:n,value:o},n)},n)}))})},m=e=>{let{arr:n}=e;return(0,a.jsx)("li",{children:n.map(((e,n)=>(0,a.jsx)(d,{name:n.toString(),value:e})))})},d=e=>{let{name:n,value:o}=e;switch((0,i.V)(o)){case"object":return(0,a.jsxs)(a.Fragment,{children:[n,(0,a.jsx)(l,{obj:o})]});case"array":return(0,a.jsxs)(a.Fragment,{children:[n,(0,a.jsx)(m,{arr:o})]})}return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:[n,": ",o?.valueOf().toString()]})})},c=e=>{const n=e.messageData;return n?(0,a.jsx)(d,{name:"",value:n}):(0,a.jsxs)("div",{children:["Invalid data to convert to JSON for ",e.messageType.typeName]})};var g=o(9260),p=o(2046),f=o(6025),u=o(8774);const h=e=>{const n=(0,f.A)("qroma-io/sendAppMessage/#/"+e.commandAsBase64);return(0,a.jsx)(u.A,{to:n,children:e.commandAsBase64})};var C=o(3225);const y=e=>{if("scalar"===e.kind)return(e=>{switch(e){case C.LN.BOOL:return!1;case C.LN.STRING:return"";case C.LN.DOUBLE:case C.LN.FLOAT:case C.LN.INT64:case C.LN.UINT64:case C.LN.INT32:case C.LN.FIXED64:case C.LN.FIXED32:case C.LN.UINT32:case C.LN.SFIXED32:case C.LN.SFIXED64:case C.LN.SINT32:case C.LN.SINT64:return 0;case C.LN.BYTES:return[]}})(e.T);if("enum"===e.kind){const o=e.T()[1];let t;for(var n in o)void 0===t&&(t=parseInt(n));return t}if("message"===e.kind){return w(e.T())}throw Error("Unsupported field kind: "+e.kind)},w=e=>{const n={},o=e.fields,t=[];return o.forEach((e=>{if(void 0!==e.oneof){if(void 0===t.find((n=>n===e.oneof))){if(void 0===Object.keys(n).find((n=>n===e.name))){const o=y(e);n[e.name]=o}t.push(e.oneof)}}else{const o=y(e);n[e.name]=o}})),n},R=e=>(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("input",{type:"checkbox",id:e.field.name,name:e.field.name,defaultChecked:e.value,onChange:n=>{e.updateFieldValue(n.target.checked)}}),(0,a.jsxs)("label",{htmlFor:e.field.name,children:[e.field.name," [",S(e.field.T),"]"]}),(0,a.jsx)("br",{})]}),k=e=>(0,a.jsxs)("div",{children:[e.field.name," [",S(e.field.T),"]",(0,a.jsx)("input",{onChange:n=>{e.updateFieldValue(n.target.value)},value:e.value})]}),T=e=>{const[n,o]=(0,t.useState)(e.value.toString()),[r,s]=(0,t.useState)(!0),[i,l]=(0,t.useState)(0);return(0,a.jsxs)("div",{children:[e.field.name," [",S(e.field.T),"]",(0,a.jsx)("input",{onChange:e=>{o(e.target.value);try{const n=parseFloat(e.target.value);s(!0),l(n)}catch(e){s(!1)}},onBlur:n=>{try{const o=parseFloat(n.target.value);e.updateFieldValue(o),s(!0),l(o)}catch(n){e.updateFieldValue(i),s(!0)}},value:n}),r?"":"*** (will set to "+i+" unless valid value entered)"]})},b=e=>{const[n,o]=(0,t.useState)(e.value.toString()),[r,s]=(0,t.useState)(!0),[i,l]=(0,t.useState)(0);return(0,a.jsxs)("div",{children:[e.field.name," [",S(e.field.T),"]",(0,a.jsx)("input",{onChange:n=>{o(n.target.value);try{const o=parseInt(n.target.value);if(!e.unsigned)return void s(!0);o>0?(s(!0),l(o)):s(!1)}catch(n){s(!1)}},onBlur:n=>{try{const o=parseInt(n.target.value);if(!e.unsigned)return e.updateFieldValue(o),s(!0),void l(o);e.unsigned&&o>0?(e.updateFieldValue(o),l(o)):e.updateFieldValue(i)}catch(n){}o(i),s(!0)},value:n}),r?"":"*** (will set to "+i+" unless valid value entered)"]})},S=e=>{switch(e){case C.LN.DOUBLE:return"double";case C.LN.FLOAT:return"float";case C.LN.INT64:return"int64";case C.LN.UINT64:return"uint64";case C.LN.INT32:return"int32";case C.LN.FIXED64:return"fixed64";case C.LN.FIXED32:return"fixed32";case C.LN.BOOL:return"bool";case C.LN.STRING:return"string";case C.LN.BYTES:return"bytes";case C.LN.UINT32:return"uint32";case C.LN.SFIXED32:return"sfixed32";case C.LN.SFIXED64:return"sfixed64";case C.LN.SINT32:return"sint32";case C.LN.SINT64:return"sint64"}},N=e=>{if(void 0===e.value&&(console.log("VALUE UNDEFINED IN MessageScalarFieldInputComponent FOR "+e.field.name),console.log(e)),"scalar"!==e.field.kind)return(0,a.jsxs)("div",{children:["Non-scalar input field provided: ",e.field.name]});const n=n=>{e.updateFieldInParent(e.field.name,n)};switch(e.field.T){case C.LN.BOOL:return(0,a.jsx)(R,{value:e.value,field:e.field,updateFieldValue:n});case C.LN.STRING:return(0,a.jsx)(k,{value:e.value,field:e.field,updateFieldValue:n});case C.LN.FLOAT:case C.LN.DOUBLE:return(0,a.jsx)(T,{value:e.value,field:e.field,updateFieldValue:n});case C.LN.UINT32:case C.LN.UINT64:return(0,a.jsx)(b,{value:e.value,field:e.field,updateFieldValue:n,unsigned:!0});case C.LN.INT64:case C.LN.INT32:case C.LN.FIXED64:case C.LN.FIXED32:case C.LN.SFIXED32:case C.LN.SFIXED64:case C.LN.SINT32:case C.LN.SINT64:return(0,a.jsx)(b,{value:e.value,field:e.field,updateFieldValue:n})}return(0,a.jsxs)("div",{children:[e.field.name," [",S(e.field.T),"] --- Unsupported scalar field"]})},F=e=>{const n=e.enumInfo,o=n[0],t=n[1],r=[];for(const a in t)try{if(Number.isNaN(parseInt(a)))continue;const e=parseInt(a),n=t[e];r.push({enumInt:e,valueName:n})}catch(m){}const s=n=>{const o=n.target.value;let t=r.find((e=>e.valueName===o)).enumInt;console.log(r),console.log("NEW VALUE: "+o),console.log(t),e.updateFieldInParent(o,t)},i=e.field.name+"-"+o,l=e=>i+"-"+e.valueName;return(0,a.jsx)("fieldset",{style:{marginLeft:20},children:r.map((n=>(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"radio",name:i,id:l(n),value:n.valueName,onChange:s,defaultChecked:e.value===n.enumInt}),(0,a.jsxs)("label",{htmlFor:l(n),children:[n.valueName," [",n.enumInt,"]"]})]},n.valueName)))})},D=e=>{const n=e.field;if("enum"!==n.kind)return(0,a.jsxs)("div",{children:["Non-enum input field provided: ",n.name]});const o=n.T();return(0,a.jsxs)("fieldset",{children:[n.name," [",n.kind,": ",o[0],"] -- ",e.value,(0,a.jsx)(F,{field:e.field,enumInfo:o,updateFieldInParent:(o,t)=>{console.log("NEW ENUM VALUE: "+t),e.updateFieldInParent(n.name,t)},value:e.value})]})},O=e=>{const n=e.oneofValue.oneofKind,o=e.allFieldsInParent.find((e=>e.name===n)),t=e.allFieldsInParent.filter((n=>n.oneof===e.oneofFieldName)),r=(0,a.jsx)("select",{value:n,onChange:n=>{const t=n.target.value;var a=e.allFieldsInParent.find((e=>e.name===t));const r=y(a);e.setActiveOneofFieldInParentMessage(o,a,r)},children:t.map((e=>(0,a.jsxs)("option",{value:e.name,children:[e.name," [",e.no,"]"]},e.name)))});let s=(0,a.jsx)(a.Fragment,{});switch(o.kind){case"enum":const t=e.oneofValue[n];s=(0,a.jsx)(D,{field:o,isFieldUsedAsOneof:!0,value:t,updateFieldInParent:(n,t)=>((n,o)=>{console.log("QromaPbOneofContainerComponent - ENUM ON CHANGE"),console.log(n),console.log(o),e.updateFieldValueInParentMessage(n,o)})(o,t)},o.name);break;case"scalar":const r=e.oneofValue[n];s=(0,a.jsx)(N,{field:o,isFieldUsedAsOneof:!0,value:r,updateFieldInParent:(n,t)=>{return a=o,r=t,void e.updateFieldValueInParentMessage(a,r);var a,r}},o.name);break;case"message":const i=e.oneofValue[n],l=i[o.name];s=(0,a.jsx)(E,{messageName:o.name,messageType:o.T(),messageValue:i,messageValueJsonData:l,fieldInParent:o,updateFieldValueInParentMessage:(n,t)=>((n,t)=>{let a;"message"===n.kind?(a=t,e.updateFieldValueInParentMessage(n,a)):(a={[n.name]:t},e.updateFieldValueInParentMessage(o,a)),e.updateFieldValueInParentMessage(o,a)})(n,t),setActiveOneofFieldInParentMessage:(n,t,a)=>((n,t,a)=>{console.log("QromaPbOneofContainerComponent - ACTIVE SUB ONE OF ON CHANGE");const r={[t.name]:a};delete r[n.name],console.log("SETTING VALUE - "+t.name),console.log(r),e.setActiveOneofFieldInParentMessage(o,t,a)})(n,t,a)},o.name);break;default:throw new Error("Unhandled field kind")}return(0,a.jsx)("div",{children:(0,a.jsxs)("fieldset",{style:{backgroundColor:"lightblue"},children:[e.oneofFieldName," [oneof]",r,(0,a.jsxs)("div",{children:["ONEOF: ",e.oneofFieldName," [",n,"] - ",JSON.stringify(e.oneofValue),s]})]})})},E=e=>{void 0===e.messageValue&&(console.log("UNDEFINED MESSAGE VALUE IN PB MESSAGE 2 COMPONENT"),console.log(e.messageName));const n=(n,o)=>{if("__rootMessage__"===e.messageName)e.updateFieldValueInParentMessage(n,o);else{const t=e.messageType.toJsonString(e.messageValue),a={...JSON.parse(t),[n.name]:o};e.updateFieldValueInParentMessage(e.fieldInParent,a)}},o=(n,o,t)=>{if(console.log("setActiveOneofField() IN QromaPbMessageComponent: "+e.messageType.typeName),console.log(e),console.log(n),console.log(o),console.log(t),console.log("QROMA PB MESSAGE UPDATE - IN setActiveOneofInMessage() FOR NON MESSAGE"),console.log(t),"__rootMessage__"===e.messageName)e.setActiveOneofFieldInParentMessage(n,o,t);else{const a=e.messageType.toJsonString(e.messageValue),r=JSON.parse(a);if(console.log(JSON.parse(a)),"message"===o.kind){console.log("QROMA NONROOT MESSAGE UPDATE - IN setActiveOneofInMessage() FOR MESSAGE");const a={...r,[o.name]:t};delete a[n.name],console.log(r),console.log(a),e.updateFieldValueInParentMessage(e.fieldInParent,a)}else{console.log("QROMA PB NONROOT MESSAGE UPDATE - IN setActiveOneofInMessage() FOR NONMESSAGE"),console.log(t);const a={...r,[o.name]:t};delete a[n.name],e.updateFieldValueInParentMessage(e.fieldInParent,a)}}},t=[],r=[];return e.messageType.fields.forEach((s=>{if((e=>void 0!==e.oneof)(s)){if(void 0===r.find((e=>e===s.oneof))){const i=e.messageValue[s.oneof];t.push((0,a.jsx)(O,{allFieldsInParent:e.messageType.fields,oneofFieldName:s.oneof,oneofValue:i,updateFieldValueInParentMessage:n,setActiveOneofFieldInParentMessage:o},s.name)),r.push(s.oneof)}}else switch(s.kind){case"scalar":const r=e.messageValue[s.name];t.push((0,a.jsx)(N,{field:s,isFieldUsedAsOneof:!1,value:r,updateFieldInParent:(e,o)=>((e,o,t)=>{n(e,t)})(s,0,o)},s.name));break;case"enum":t.push((0,a.jsx)(D,{field:s,isFieldUsedAsOneof:!1,value:e.messageValue[s.name],updateFieldInParent:(e,o)=>((e,o,t)=>{n(e,t)})(s,0,o)},s.name));break;case"message":const i=e.messageValue[s.name],l=e.messageValue[s.name];t.push((0,a.jsx)(E,{messageName:s.name,messageType:s.T(),messageValue:i,messageValueJsonData:l,fieldInParent:s,updateFieldValueInParentMessage:(e,o)=>n(e,o),setActiveOneofFieldInParentMessage:o},s.name));break;default:return(0,a.jsxs)("div",{children:[s.name," - [",s.name,"]"]},s.name)}})),(0,a.jsx)("div",{children:(0,a.jsxs)("fieldset",{children:[e.messageName," [",e.messageType.typeName,"] +++",(0,a.jsx)("div",{style:{marginLeft:20},children:t})]})})},v=e=>{const n=e.requestMessageType;console.log("REQUEST MESSAGE TYPE"),console.log(n);const o=w(e.requestMessageType),[r,i]=(0,t.useState)(o),l=(()=>{try{return e.requestMessageType.fromJson(r)}catch(n){throw console.log("Error trying to build message from root message JSON data"),console.log(e.requestMessageType),console.log(r),n}})(),m=e.qromaWebSerial.createQromaCommMessageForAppCommand(l),d=g._.toBinary(m),f=s.hp.from(d).toString("base64")+"\n",u=n=>{const o=n,t=e.requestMessageType.toBinary(o);return(0,p.Tg)(t)},C=e.qromaWebSerial.getConnectionState().isWebSerialConnected;console.log("isQromaWebSerialConnected: "+C);let y="";try{y=e.requestMessageType.toJsonString(e.requestMessageType.fromJson(r))}catch(k){console.log("ERROR SETTING APP COMMAND JSON STR"),console.log(k)}let R="";try{R=g._.toJsonString(m)}catch(k){console.log("ERROR SETTING QROMA COMM APP COMMAND JSON STR"),console.log(k)}console.log("ROOT MESSAGE VALUE"),console.log(l);return(0,a.jsxs)("div",{children:[(0,a.jsx)(E,{messageType:n,messageName:"__rootMessage__",messageValue:l,messageValueJsonData:r,fieldInParent:{},updateFieldValueInParentMessage:(n,o)=>{if(console.log("UPDATING ROOT MESSAGE VALUE IN "+e.responseMessageType.typeName),console.log(n),console.log(o),console.log("OLD ROOT MESSAGE"),console.log(r),void 0===Object.keys(r).find((e=>e===n.name)))throw new Error("UNABLE TO UPDATE ROOT VALUE FoR "+n.name);const t={...r,[n.name]:o};console.log("NEW ROOT MESSAGE"),console.log(t),i(t)},setActiveOneofFieldInParentMessage:(n,o,t)=>{if(console.log("ROOT MESSAGE UPDATE - IN setActiveOneofInRoot() FOR "+e.requestMessageType.typeName),console.log(n),console.log(o),console.log(t),"message"===o.kind){console.log("QROMA PB ROOT MESSAGE UPDATE - IN setActiveOneofInMessage() FOR MESSAGE");const e={...r,[o.name]:t};delete e[n.name],console.log(r),console.log(e),i(e)}else{console.log("QROMA PB ROOT MESSAGE UPDATE - IN setActiveOneofInMessage() FOR NONMESSAGE"),console.log(t);const e={...r,[o.name]:t};delete e[n.name],i(e)}}},n.typeName),(0,a.jsxs)("div",{children:["App Command: ",y]}),(0,a.jsxs)("div",{children:["App Command B64: ",u(l)]}),(0,a.jsxs)("div",{children:["App Command Link: ",(0,a.jsx)(h,{commandAsBase64:u(l)})]}),(0,a.jsxs)("div",{children:["QC Command: ",R]}),(0,a.jsxs)("div",{children:["QC Command B64: [",f,"]"]}),C?(0,a.jsx)("button",{onClick:()=>(async()=>{console.log("SEND COMMAND");const n=e.requestMessageType.fromJson(r),o=await e.qromaWebSerial.sendQromaAppCommand(n);console.log("REQUEST SENT"),console.log(o)})(),children:"Send Request"}):(0,a.jsx)("button",{onClick:()=>(console.log("START CONNECTION"),void e.qromaWebSerial.startMonitoring()),children:"Start Connection!"}),(0,a.jsx)("button",{onClick:()=>(()=>{const n=e.qromaWebSerial.createQromaCommMessageForAppCommand(l);console.log(n);const o=g._.toBinary(n);console.log(o);const t=s.hp.from(o).toString("base64")+"\n";console.log("APP MESSAGE B64"),console.log(t),console.log(t.length)})(),children:"Show Qroma Comm Message"}),(0,a.jsx)(c,{messageType:e.requestMessageType,messageData:l})]})};var x=o(4724);const I=(e,n)=>{if(!window)throw Error("Not running in a browser");let o=new Uint8Array;const t=e=>{o=e};console.log("CALLING useQromaWebSerial");const a=(0,x.a)((n=>{let a=(0,p.KC)(o,n);for(;;){let n=a.findIndex((e=>10===e));if(-1===n)return void t(a);if(0!==n)try{const o=a.slice(0,n);a=a.slice(n,a.length);const t=(new TextDecoder).decode(o),r=s.hp.from(t,"base64"),i=g.U.fromBinary(r);e(i)}catch(r){}else a=a.slice(1,a.length)}t(a)}),n);return{startMonitoring:async()=>{try{console.log("COMM WEB SERIAL - START"),a.startMonitoring(),console.log("COMM WEB SERIAL - START - CONNECTED")}catch(e){console.log("COMM WEB SERIAL - ON CONNECTION FALSE"),console.log(e)}},getConnectionState:a.getConnectionState,stopMonitoring:a.stopMonitoring,sendQromaCommCommand:async e=>{if(!a.getConnectionState().isWebSerialConnected)return console.log("sendQromaCommCommand - CAN'T SEND COMMAND - NO CONNECTION"),void console.log(e);const n=g._.toBinary(e);console.log(n);const o=s.hp.from(n).toString("base64")+"\n";console.log("TO DEVICE >> "+o),console.log(o.length),await a.sendString(o)},qromaWebSerial:a}};var B=o(7472);const j=e=>{if(!window)throw Error("Not running in a browser");console.log("CALLING useQromaCommWebSerial");const n=I((n=>{if("coreResponse"===n.response.oneofKind)n.response.coreResponse.oneofKind;else if("appResponseBytes"===n.response.oneofKind){const t=n.response.appResponseBytes;try{const n=e.responseMessageType.fromBinary(t);if(void 0===n)return console.log("UNDEFINED APP RESPONSE BYTES"),void console.log(t);e.onQromaAppResponse(n)}catch(o){console.log("APP RESPONSE PARSE ERR"),console.log(o)}}}),(n=>{e.onPortRequestResult({success:n.isWebSerialConnected})}));return{startMonitoring:n.startMonitoring,getConnectionState:n.getConnectionState,stopMonitoring:n.stopMonitoring,sendQromaAppCommand:async o=>{if(void 0===e.commandMessageType)throw Error("sendQromaAppCommand() failure - no commandMessageType provided on IUseQromaAppWebSerialInputs");const t={command:{oneofKind:"appCommandBytes",appCommandBytes:e.commandMessageType.toBinary(o)}};n.sendQromaCommCommand(t)},createQromaCommMessageForAppCommand:n=>(0,B._)(n,e.commandMessageType)}},W=e=>{const[n,o]=(0,t.useState)(e.responseMessageType.create()),r={onPortRequestResult:e=>{console.log("PORT REQUEST RESULT "+e.success)},responseMessageType:e.responseMessageType,onQromaCommResponse:e=>{console.log("QromaCommMonitor - onQromaCommResponse"),console.log(e)},onQromaAppResponse:e=>{console.log("QromaCommMonitor - onQromaAppResponse"),o(e)}},s=j(r);return null===s?(0,a.jsx)(a.Fragment,{children:"Serial not supported"}):(0,a.jsxs)("div",{children:["Qroma comm monitor",(0,a.jsx)("button",{onClick:async()=>{s.startMonitoring()},children:"Start monitor"}),(0,a.jsx)("button",{onClick:()=>{s.stopMonitoring()},children:"Stop monitor"}),(0,a.jsx)(c,{messageType:e.responseMessageType,messageData:n})]})},$=e=>{const[n,o]=(0,t.useState)(e.responseMessageType.create()),[r,s]=(0,t.useState)(!1),i={onQromaAppResponse:e=>{console.log("QromaRequestForm - onQromaAppResponse!!"),console.log(e),o(e)},onQromaCommResponse:e=>{console.log("QromaRequestForm - onQromaCommResponse!!"),console.log(e)},commandMessageType:e.requestMessageType,responseMessageType:e.responseMessageType,onPortRequestResult:e=>{console.log("PORT REQUEST RESULT"),console.log(e),e.success?s(!0):s(!1)}},l=j(i);return(0,a.jsxs)(a.Fragment,{children:[e.requestMessageType.typeName," => ",e.responseMessageType.typeName,(0,a.jsx)(v,{requestMessageType:e.requestMessageType,responseMessageType:e.responseMessageType,qromaWebSerial:l}),(0,a.jsxs)("div",{children:["App Response: ",JSON.stringify(n)]})]})};var L=o(4870);const A=e=>{const n=e.qromaWebSerial;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>{(()=>{const e={command:{oneofKind:"noArgCommand",noArgCommand:L.PT.Qc_Nac_GetQromaCoreConfig}};n.sendQromaCoreCommand(e)})()},children:"Get Core config"})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>{(()=>{const e={command:{oneofKind:"noArgCommand",noArgCommand:L.PT.Qc_Nac_GetQromaCoreFirmwareDetails}};n.sendQromaCoreCommand(e)})()},children:"Get firmware details"})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>{(()=>{const e={command:{oneofKind:"restartQromaDevice",restartQromaDevice:{areYouSure:window.confirm("Are you sure you want to restart?")}}};n.sendQromaCoreCommand(e)})()},children:"Restart"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>{(async()=>{const e={command:{oneofKind:"noArgCommand",noArgCommand:L.PT.Qc_Nac_EnableCoreHeartbeat}};n.sendQromaCoreCommand(e)})()},children:"Enable heartbeat"}),(0,a.jsx)("button",{onClick:()=>{(async()=>{const e={command:{oneofKind:"noArgCommand",noArgCommand:L.PT.Qc_Nac_DisableCoreHeartbeat}};n.sendQromaCoreCommand(e)})()},children:"Disable heartbeat"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>{(async()=>{const e={command:{oneofKind:"noArgCommand",noArgCommand:L.PT.Qc_Nac_EnableAllLogging}};n.sendQromaCoreCommand(e)})()},children:"Enable logging"}),(0,a.jsx)("button",{onClick:()=>{(async()=>{const e={command:{oneofKind:"noArgCommand",noArgCommand:L.PT.Qc_Nac_DisableLogging}};n.sendQromaCoreCommand(e)})()},children:"Disable logging"})]})]})},P=e=>{const[n,o]=(0,t.useState)(L.PF.create()),[r,s]=(0,t.useState)(L.PF.create()),[i,l]=(0,t.useState)(!1),m=(e=>{if(!window)throw Error("Not running in a browser");const n=e=>{const n={command:{oneofKind:"coreCommand",coreCommand:e}};return console.log("QROMA COMM COMMAND FOR QROMA CORE READY"),console.log(n),console.log(e),n};console.log("CALLING useQromaCoreWebSerial");const o=I((n=>{if(console.log("QromaCoreWebSerial - onData"),console.log(n),"coreResponse"===n.response.oneofKind){const o=n.response.coreResponse;console.log("CORE RESPONSE"),console.log(o),e.onQromaCoreResponse(o)}}),(n=>{e.onPortRequestResult({success:n.isWebSerialConnected})}));return{startMonitoring:o.startMonitoring,getConnectionState:o.getConnectionState,stopMonitoring:o.stopMonitoring,sendQromaCoreCommand:async e=>{const t=n(e);o.sendQromaCommCommand(t)},createQromaCommMessageForCoreCommand:n}})({onQromaCoreResponse:e=>{console.log("QromaCoreDeviceApp - onQromaCoreResponse!!"),"heartbeat"===e.response.oneofKind?s(e):o(e)},onPortRequestResult:e=>{e.success!==i?(console.log("PORT REQUEST RESULT"),console.log(e),console.log(i),e.success?l(!0):l(!1)):console.log("don't need to update port request result: "+i)}}),d=m.getConnectionState().isWebSerialConnected;return(0,a.jsxs)(a.Fragment,{children:[L.tp.typeName," => ",L.PF.typeName,d?(0,a.jsx)(A,{qromaWebSerial:m}):(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>(console.log("START CONNECTION"),void m.startMonitoring()),children:"Start Connection!"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["Core Response: ",JSON.stringify(n)]}),(0,a.jsxs)("div",{children:["Heartbeat Response: ",JSON.stringify(r)]})]})]})};o(3033);var M=o(7506);const U=e=>{console.log(e.itemPath);const n=(0,f.A)("qroma-io/showQromaFile/#"+e.itemPath);return(0,a.jsx)(u.A,{to:n,children:e.itemPath})},Q=e=>{const n=e.dirPath,o=e.dirItem;console.log("FILEPATH"),console.log(n),console.log(o.name);const t=n.endsWith("/")?"":"/",r=n+t+o.name;console.log("FILEPATH ITEM - "+r);const s=e.qromaCommFileSystemApi;return(0,a.jsxs)("li",{children:["f - ",r,(0,a.jsx)("button",{onClick:()=>(async e=>{await s.rmFile(e)})(r),children:"Delete"}),(0,a.jsx)("button",{onClick:()=>(async n=>{const o=await e.qromaCommFileSystemApi.getFileContents(n);if(void 0===o)return void console.log("Unable to read file contents for "+n);const t=(new TextDecoder).decode(o.fileBytes);alert(t)})(r),children:"Show"}),(0,a.jsx)("button",{onClick:()=>(async e=>{const n=await s.getFileDetailsRx(e);void 0!==n?alert("File: "+n.fileData.filename+"\n\nSize: "+n.fileData.filesize+" bytes\n\nChecksum: "+n.fileData.checksum):console.log("Unable to read file details for "+e)})(r),children:"Details"}),(0,a.jsx)("button",{onClick:()=>(async e=>{console.log("DOWNLOAD "+e);const n=await s.downloadFileContents(e);if(null===n)return void console.log("doFileDownload() failed for "+e);const o=e.lastIndexOf("/"),t=-1!==o?e.slice(o+1):e;console.log(t);const a=new Blob([n],{type:"application/octet-stream"}),r=URL.createObjectURL(a),i=document.createElement("a");i.href=r,i.download=t,document.body.appendChild(i),i.click(),URL.revokeObjectURL(r),document.body.removeChild(i)})(r),children:"Download"}),(0,a.jsx)(U,{itemPath:r})]})},K=e=>{const n=(0,f.A)("qroma-io/showQromaDir/#"+e.navToDirPath);return(0,a.jsx)(u.A,{to:n,children:e.navToDirPath})},_=e=>{const n=e.dirPath,o=e.dirItem,t=n.endsWith("/")?"":"/",r=n+t+o.name;console.log("DIRPATH ITEM - "+r);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("li",{children:["d - ",r,(0,a.jsx)("button",{onClick:()=>(async n=>{const o=prompt("Enter file name");if(null===o)return;const t=prompt("Enter file content");if(null===t)return;const a=n.endsWith("/")?"":"/",r=n+a+o;console.log("CREATING FILE"),console.log(r);const s=(new TextEncoder).encode(t);await e.qromaCommFileSystemApi.writeFileContents(r,s)})(r),children:"Create File"}),(0,a.jsx)(K,{navToDirPath:r})]})})},G=e=>{const{qromaCommFileSystemApi:n}={...e},[o,r]=(0,t.useState)([]),[s,i]=(0,t.useState)("...");console.log("RENDERING QromaCommFileExplorerUiComponent");const l=n.connectionState.isWebSerialConnected;return l?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["QromaCommFileExplorerUiComponent2 - ",l?"CONNECTED":"NOT CONNECTED"]}),(0,a.jsx)("button",{onClick:()=>(async e=>{console.log("LISTING DIR PATH");const o=await n.listDir(e);o&&o.success&&(console.log("UPDATING DIR ITEMS"),r(o.dirItems),i(o.dirPath)),console.log("DIR RESULT"),console.log(o)})("/"),children:"LIST ROOT DIR"}),(0,a.jsx)("button",{onClick:()=>(async()=>{const e=prompt("Enter directory name");if(null!==e){const o=e.startsWith("/")?"":"/";await n.mkDir(o+e)}})(),children:"CREATE DIR"}),(0,a.jsx)("button",{onClick:()=>(async()=>{const e=prompt("Enter file path");if(null===e)return;const o=prompt("Enter file content");if(null===o)return;const t=s.endsWith("/")?"":"/",a=s+t+e,r=(new TextEncoder).encode(o);await n.writeFileContents(a,r)})(),children:"CREATE FILE"}),(0,a.jsxs)("div",{children:["DIR PATH: ",s,(0,a.jsx)("ul",{children:o.map((e=>e.dirItemType===M.L_.DIT_DIR?(0,a.jsx)(_,{dirPath:s,dirItem:e,qromaCommFileSystemApi:n},e.name):(0,a.jsx)(Q,{dirPath:s,dirItem:e,qromaCommFileSystemApi:n},e.name)))})]})]}):(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>(async()=>{n.init()})(),children:"START EXPLORER"})})};var V=o(2227);const H=e=>{console.log("RE-RENDERING QromaCommFileExplorerComponent");const n=(0,V.d)();return(0,a.jsx)(G,{qromaCommFileSystemApi:n})};var q=o(6347);const X=e=>{const n=(0,q.zy)(),o=e.qromaCommFileSystemApi,t=n.hash,r=/#(.*)!(.*)/gm.exec(t),s=r[1],i=r[2];if(void 0===s||void 0===i)return(0,a.jsxs)("div",{children:["Invalid Qroma file path or content. Paths must start with ",(0,a.jsx)("b",{children:"#/"})," and end with ",(0,a.jsx)("b",{children:"!"}),". Content should then follow, encoded in Base 64."]});const l=o.connectionState.isWebSerialConnected,m=o.connectionState.isWebSerialConnected;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:"QromaIoAddQromaFileComponent!!!"}),(0,a.jsxs)("div",{children:["Going to write bytes below from Base64 to ",(0,a.jsx)("b",{children:s})]}),(0,a.jsxs)("div",{children:["Serial Connected? ",l?"Yes":"No"," / ",m?"Yes":"No"]}),l?(0,a.jsx)("button",{onClick:()=>(async()=>{const e=(0,p.R5)(i);await o.writeFileContents(s,e)})(),children:"Add File"}):(0,a.jsx)("button",{onClick:()=>{o.init()},children:"Start Connection!"}),(0,a.jsx)("div",{children:i})]})},z=e=>{const[n,o]=(0,t.useState)(e.responseMessageType.create()),[r,s]=(0,t.useState)(!1),i={onQromaAppResponse:e=>{console.log("QromaIoSendAppMessageComponent - onQromaAppResponse!!"),console.log(e),o(e)},onQromaCommResponse:e=>{console.log("QromaRequestForm - onQromaCommResponse!!"),console.log(e)},commandMessageType:e.requestMessageType,responseMessageType:e.responseMessageType,onPortRequestResult:e=>{e.success?s(!0):s(!1)}},l=j(i),m=(0,q.zy)();console.log(m);const d=m.hash;if(!d.startsWith("#/"))return(0,a.jsxs)("div",{children:["Invalid Base 64 message path. Paths must start with ",(0,a.jsx)("b",{children:"#/"}),"."]});const c=d.substring(2),g=(0,p.R5)(c),f=e.requestMessageType.fromBinary(g),u=(0,B._)(f,e.requestMessageType);console.log(u);const h=l.getConnectionState().isWebSerialConnected;let C="";try{C=e.requestMessageType.toJsonString(f)}catch(y){console.log("ERROR SETTING APP COMMAND JSON STR"),console.log(y)}return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["App Command: ",C]}),(0,a.jsxs)("div",{children:["B64Content: ",c]}),(0,a.jsxs)("div",{children:["Location: ",m.pathname]}),(0,a.jsxs)("div",{children:["Hash: ",(0,a.jsx)("b",{children:m.hash})]}),(0,a.jsx)("div",{children:"QromaIoSendAppMessageComponent!!!"}),h?(0,a.jsx)("button",{onClick:()=>(async()=>{console.log("SEND B64: "+c),console.log("SEND OBJECT"),console.log(f);const e=await l.sendQromaAppCommand(f);console.log("REQUEST SENT"),console.log(e)})(),children:"Send App Message"}):(0,a.jsx)("button",{onClick:()=>{l.startMonitoring()},children:"Start Connection!"}),(0,a.jsxs)("div",{children:["App Response: ",JSON.stringify(n)]})]})},J=e=>{console.log("HERE... QromaIoSendQromaCommMessageComponent");const n=I((e=>{console.log("onQromaCommResponse"),console.log(e)}),(e=>{console.log("onConnectionChange"),console.log(e)})),o=(0,q.zy)();console.log(o);const t=o.hash;if(!t.startsWith("#/"))return(0,a.jsxs)("div",{children:["Invalid Base 64 message path. Paths must start with ",(0,a.jsx)("b",{children:"#/"}),"."]});const r=t.substring(2),s=(0,p.R5)(r),i=g._.fromBinary(s);if(void 0===i)return(0,a.jsx)("div",{children:"Could not convert Base 64 to valid QromaCommCommand object."});const l=g._.toJsonString(i),m=n.getConnectionState().isWebSerialConnected,d=n.getConnectionState().isWebSerialConnected;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["Serial Connected? ",m?"Yes":"No"," / ",d?"Yes":"No"]}),(0,a.jsxs)("div",{children:["B64Content: ",r]}),(0,a.jsxs)("div",{children:["Location: ",o.pathname]}),(0,a.jsxs)("div",{children:["Hash: ",(0,a.jsx)("b",{children:o.hash})]}),(0,a.jsxs)("div",{children:["JSON: ",l]}),d?(0,a.jsx)("button",{onClick:()=>(async()=>{console.log("SEND B64: "+r);const e=await n.sendQromaCommCommand(i);console.log("REQUEST SENT"),console.log(e)})(),children:"Send Qroma Comm Message"}):(0,a.jsx)("button",{onClick:()=>{n.startMonitoring()},children:"Start Connection!"})]})},Y=e=>{const[n,o]=(0,t.useState)(""),r=(0,q.zy)();console.log(r);const s=r.hash,i=s.startsWith("#/"),l=s.substring(1);if(!i)return(0,a.jsxs)("div",{children:["Invalid Qroma file path. Paths must start with ",(0,a.jsx)("b",{children:"#/"}),"."]});const m=(0,V.d)(),d=m.connectionState.isWebSerialConnected,c=async e=>{console.log("SHOWING FILE CONTENTS FOR "+e);const n=await m.getFileContents(e);if(void 0===n)return void console.log("Unable to read file contents for "+e);console.log("FILE CONTENTS"),console.log(n);const t=(new TextDecoder).decode(n.fileBytes);console.log("FILE CONTENTS"),console.log(t),o((0,p.Tg)(t))};return(0,t.useEffect)((()=>{(async()=>{await c(l)})()}),[l]),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:"QromaIoShowQromaFileComponent!!!"}),(0,a.jsxs)("div",{children:["FILEPATH: ",l]}),d?(0,a.jsx)("button",{onClick:()=>c(l),children:"Show contents"}):(0,a.jsx)("button",{onClick:()=>(m.init(),void console.log("qromaCommFileSystemApi - INIT CALLED")),children:"Start Connection!"}),(0,a.jsx)("div",{children:"Base 64 Content"}),(0,a.jsx)("div",{children:n})]})},Z=()=>(0,a.jsx)(Y,{}),ee=e=>{const[n,o]=(0,t.useState)([]),[r,s]=(0,t.useState)("..."),i=(0,q.zy)();console.log(i);const l=i.hash,m=l.startsWith("#/"),d=l.substring(1);if(!m)return(0,a.jsxs)("div",{children:["Invalid Qroma file path. Paths must start with ",(0,a.jsx)("b",{children:"#/"}),"."]});const c=(0,V.d)(),g=c.connectionState.isWebSerialConnected;console.log("DIRECTORY CONTENTS"),console.log(n);const p=async e=>{console.log("SHOWING DIR CONTENTS FOR "+e);const n=await c.listDir(e);n&&n.success&&(o(n.dirItems),s(n.dirPath)),console.log("DIR RESULT"),console.log(n)};return(0,t.useEffect)((()=>{(async()=>{await p(d)})()}),[d]),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:"QromaIoShowQromaDirComponent!!!"}),(0,a.jsxs)("div",{children:["DIRPATH: ",d]}),g?(0,a.jsx)("button",{onClick:()=>p(d),children:"Show contents"}):(0,a.jsx)("button",{onClick:()=>(c.init(),void console.log("qromaCommFileSystemApi - INIT CALLED FROM SHOW QROMA DIR")),children:"Start Connection!"}),(0,a.jsxs)("div",{children:["Dir Contents [",d,"]"]}),n.map((e=>e.dirItemType===M.L_.DIT_DIR?(0,a.jsx)(_,{dirPath:r,dirItem:e,qromaCommFileSystemApi:c},e.name):(0,a.jsx)(Q,{dirPath:r,dirItem:e,qromaCommFileSystemApi:c},e.name)))]})}},7506:(e,n,o)=>{o.d(n,{L_:()=>l,NF:()=>V,TV:()=>q});var t=o(8899),a=o(3923),r=o(5336),s=o(3724),i=o(3033);let l=function(e){return e[e.DIT_NOT_SET=0]="DIT_NOT_SET",e[e.DIT_FILE=1]="DIT_FILE",e[e.DIT_DIR=2]="DIT_DIR",e}({}),m=function(e){return e[e.WFDSC_NOT_SET=0]="WFDSC_NOT_SET",e[e.WFDSC_SUCCESS=1]="WFDSC_SUCCESS",e[e.WFDSC_ERR_OPEN_FILE=2]="WFDSC_ERR_OPEN_FILE",e[e.WFDSC_ERR_CRC_MISMATCH=3]="WFDSC_ERR_CRC_MISMATCH",e}({});class d extends s.G{constructor(){super("DirItem",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"dirItemType",kind:"enum",T:()=>["DirItemType",l]},{no:3,name:"filesize",kind:"scalar",T:13}])}create(e){const n={name:"",dirItemType:0,filesize:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.name=e.string();break;case 2:r.dirItemType=e.int32();break;case 3:r.filesize=e.uint32();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){""!==e.name&&n.tag(1,t.O0.LengthDelimited).string(e.name),0!==e.dirItemType&&n.tag(2,t.O0.Varint).int32(e.dirItemType),0!==e.filesize&&n.tag(3,t.O0.Varint).uint32(e.filesize);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const c=new d;class g extends s.G{constructor(){super("RmFileCommand",[{no:1,name:"filePath",kind:"scalar",T:9}])}create(e){const n={filePath:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.filePath=e.string();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){""!==e.filePath&&n.tag(1,t.O0.LengthDelimited).string(e.filePath);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const p=new g;class f extends s.G{constructor(){super("RmFileResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"rmFileCommand",kind:"message",T:()=>p}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.success=e.bool();break;case 2:r.rmFileCommand=p.internalBinaryRead(e,e.uint32(),o,r.rmFileCommand);break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){!1!==e.success&&n.tag(1,t.O0.Varint).bool(e.success),e.rmFileCommand&&p.internalBinaryWrite(e.rmFileCommand,n.tag(2,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const u=new f;class h extends s.G{constructor(){super("RmDirCommand",[{no:1,name:"dirPath",kind:"scalar",T:9}])}create(e){const n={dirPath:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.dirPath=e.string();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){""!==e.dirPath&&n.tag(1,t.O0.LengthDelimited).string(e.dirPath);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const C=new h;class y extends s.G{constructor(){super("RmDirResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"rmDirCommand",kind:"message",T:()=>C}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.success=e.bool();break;case 2:r.rmDirCommand=C.internalBinaryRead(e,e.uint32(),o,r.rmDirCommand);break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){!1!==e.success&&n.tag(1,t.O0.Varint).bool(e.success),e.rmDirCommand&&C.internalBinaryWrite(e.rmDirCommand,n.tag(2,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const w=new y;class R extends s.G{constructor(){super("MkDirCommand",[{no:1,name:"dirPath",kind:"scalar",T:9}])}create(e){const n={dirPath:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.dirPath=e.string();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){""!==e.dirPath&&n.tag(1,t.O0.LengthDelimited).string(e.dirPath);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const k=new R;class T extends s.G{constructor(){super("MkDirResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"mkDirCommand",kind:"message",T:()=>k}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.success=e.bool();break;case 2:r.mkDirCommand=k.internalBinaryRead(e,e.uint32(),o,r.mkDirCommand);break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){!1!==e.success&&n.tag(1,t.O0.Varint).bool(e.success),e.mkDirCommand&&k.internalBinaryWrite(e.mkDirCommand,n.tag(2,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const b=new T;class S extends s.G{constructor(){super("ReportFileDataCommand",[{no:1,name:"filePath",kind:"scalar",T:9}])}create(e){const n={filePath:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.filePath=e.string();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){""!==e.filePath&&n.tag(1,t.O0.LengthDelimited).string(e.filePath);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const N=new S;class F extends s.G{constructor(){super("ReportFileDataResponse",[{no:1,name:"fileStatus",kind:"enum",T:()=>["GetFileStatusCode",i.WH]},{no:2,name:"fileData",kind:"message",T:()=>i.HW}])}create(e){const n={fileStatus:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.fileStatus=e.int32();break;case 2:r.fileData=i.HW.internalBinaryRead(e,e.uint32(),o,r.fileData);break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let l=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,l)}}return r}internalBinaryWrite(e,n,o){0!==e.fileStatus&&n.tag(1,t.O0.Varint).int32(e.fileStatus),e.fileData&&i.HW.internalBinaryWrite(e.fileData,n.tag(2,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const D=new F;class O extends s.G{constructor(){super("ListDirContentsCommand",[{no:1,name:"dirPath",kind:"scalar",T:9},{no:2,name:"startsWithConstraint",kind:"scalar",T:9},{no:3,name:"endsWithConstraint",kind:"scalar",T:9}])}create(e){const n={dirPath:"",startsWithConstraint:"",endsWithConstraint:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.dirPath=e.string();break;case 2:r.startsWithConstraint=e.string();break;case 3:r.endsWithConstraint=e.string();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){""!==e.dirPath&&n.tag(1,t.O0.LengthDelimited).string(e.dirPath),""!==e.startsWithConstraint&&n.tag(2,t.O0.LengthDelimited).string(e.startsWithConstraint),""!==e.endsWithConstraint&&n.tag(3,t.O0.LengthDelimited).string(e.endsWithConstraint);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const E=new O;class v extends s.G{constructor(){super("ListDirContentsResponse",[{no:1,name:"dirPath",kind:"scalar",T:9},{no:2,name:"success",kind:"scalar",T:8},{no:3,name:"dirItems",kind:"message",repeat:1,T:()=>c}])}create(e){const n={dirPath:"",success:!1,dirItems:[]};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.dirPath=e.string();break;case 2:r.success=e.bool();break;case 3:r.dirItems.push(c.internalBinaryRead(e,e.uint32(),o));break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){""!==e.dirPath&&n.tag(1,t.O0.LengthDelimited).string(e.dirPath),!1!==e.success&&n.tag(2,t.O0.Varint).bool(e.success);for(let r=0;r<e.dirItems.length;r++)c.internalBinaryWrite(e.dirItems[r],n.tag(3,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const x=new v;class I extends s.G{constructor(){super("PrintDirContentsCommand",[{no:1,name:"dirPath",kind:"scalar",T:9}])}create(e){const n={dirPath:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.dirPath=e.string();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){""!==e.dirPath&&n.tag(1,t.O0.LengthDelimited).string(e.dirPath);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}new I;class B extends s.G{constructor(){super("ResetFilesystemCommand",[{no:1,name:"dummy",kind:"scalar",T:8}])}create(e){const n={dummy:!1};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.dummy=e.bool();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){!1!==e.dummy&&n.tag(1,t.O0.Varint).bool(e.dummy);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const j=new B;class W extends s.G{constructor(){super("ResetFilesystemResponse",[{no:1,name:"success",kind:"scalar",T:8}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.success=e.bool();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){!1!==e.success&&n.tag(1,t.O0.Varint).bool(e.success);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const $=new W;class L extends s.G{constructor(){super("GetFileContentsCommand",[{no:1,name:"filePath",kind:"scalar",T:9}])}create(e){const n={filePath:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.filePath=e.string();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){""!==e.filePath&&n.tag(1,t.O0.LengthDelimited).string(e.filePath);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const A=new L;class P extends s.G{constructor(){super("GetFileContentsResponse",[{no:1,name:"statusCode",kind:"enum",T:()=>["GetFileStatusCode",i.WH]},{no:2,name:"fileData",kind:"message",T:()=>i.HW},{no:3,name:"fileBytes",kind:"scalar",T:12}])}create(e){const n={statusCode:0,fileBytes:new Uint8Array(0)};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.statusCode=e.int32();break;case 2:r.fileData=i.HW.internalBinaryRead(e,e.uint32(),o,r.fileData);break;case 3:r.fileBytes=e.bytes();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let l=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,l)}}return r}internalBinaryWrite(e,n,o){0!==e.statusCode&&n.tag(1,t.O0.Varint).int32(e.statusCode),e.fileData&&i.HW.internalBinaryWrite(e.fileData,n.tag(2,t.O0.LengthDelimited).fork(),o).join(),e.fileBytes.length&&n.tag(3,t.O0.LengthDelimited).bytes(e.fileBytes);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const M=new P;class U extends s.G{constructor(){super("WriteFileDataCommand",[{no:1,name:"fileData",kind:"message",T:()=>i.HW},{no:2,name:"fileBytes",kind:"scalar",T:12}])}create(e){const n={fileBytes:new Uint8Array(0)};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.fileData=i.HW.internalBinaryRead(e,e.uint32(),o,r.fileData);break;case 2:r.fileBytes=e.bytes();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let l=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,l)}}return r}internalBinaryWrite(e,n,o){e.fileData&&i.HW.internalBinaryWrite(e.fileData,n.tag(1,t.O0.LengthDelimited).fork(),o).join(),e.fileBytes.length&&n.tag(2,t.O0.LengthDelimited).bytes(e.fileBytes);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const Q=new U;class K extends s.G{constructor(){super("WriteFileDataResponse",[{no:1,name:"statusCode",kind:"enum",T:()=>["WriteFileDataStatusCode",m]},{no:2,name:"command",kind:"message",T:()=>i.HW}])}create(e){const n={statusCode:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.statusCode=e.int32();break;case 2:r.command=i.HW.internalBinaryRead(e,e.uint32(),o,r.command);break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let l=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,l)}}return r}internalBinaryWrite(e,n,o){0!==e.statusCode&&n.tag(1,t.O0.Varint).int32(e.statusCode),e.command&&i.HW.internalBinaryWrite(e.command,n.tag(2,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const _=new K;class G extends s.G{constructor(){super("FileSystemCommand",[{no:1,name:"getFileContentsCommand",kind:"message",oneof:"command",T:()=>A},{no:2,name:"writeFileDataCommand",kind:"message",oneof:"command",T:()=>Q},{no:4,name:"reportFileDataCommand",kind:"message",oneof:"command",T:()=>N},{no:5,name:"rmFileCommand",kind:"message",oneof:"command",T:()=>p},{no:9,name:"listDirContentsCommand",kind:"message",oneof:"command",T:()=>E},{no:10,name:"mkDirCommand",kind:"message",oneof:"command",T:()=>k},{no:11,name:"rmDirCommand",kind:"message",oneof:"command",T:()=>C},{no:15,name:"resetFilesystemCommand",kind:"message",oneof:"command",T:()=>j}])}create(e){const n={command:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.command={oneofKind:"getFileContentsCommand",getFileContentsCommand:A.internalBinaryRead(e,e.uint32(),o,r.command.getFileContentsCommand)};break;case 2:r.command={oneofKind:"writeFileDataCommand",writeFileDataCommand:Q.internalBinaryRead(e,e.uint32(),o,r.command.writeFileDataCommand)};break;case 4:r.command={oneofKind:"reportFileDataCommand",reportFileDataCommand:N.internalBinaryRead(e,e.uint32(),o,r.command.reportFileDataCommand)};break;case 5:r.command={oneofKind:"rmFileCommand",rmFileCommand:p.internalBinaryRead(e,e.uint32(),o,r.command.rmFileCommand)};break;case 9:r.command={oneofKind:"listDirContentsCommand",listDirContentsCommand:E.internalBinaryRead(e,e.uint32(),o,r.command.listDirContentsCommand)};break;case 10:r.command={oneofKind:"mkDirCommand",mkDirCommand:k.internalBinaryRead(e,e.uint32(),o,r.command.mkDirCommand)};break;case 11:r.command={oneofKind:"rmDirCommand",rmDirCommand:C.internalBinaryRead(e,e.uint32(),o,r.command.rmDirCommand)};break;case 15:r.command={oneofKind:"resetFilesystemCommand",resetFilesystemCommand:j.internalBinaryRead(e,e.uint32(),o,r.command.resetFilesystemCommand)};break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){"getFileContentsCommand"===e.command.oneofKind&&A.internalBinaryWrite(e.command.getFileContentsCommand,n.tag(1,t.O0.LengthDelimited).fork(),o).join(),"writeFileDataCommand"===e.command.oneofKind&&Q.internalBinaryWrite(e.command.writeFileDataCommand,n.tag(2,t.O0.LengthDelimited).fork(),o).join(),"reportFileDataCommand"===e.command.oneofKind&&N.internalBinaryWrite(e.command.reportFileDataCommand,n.tag(4,t.O0.LengthDelimited).fork(),o).join(),"rmFileCommand"===e.command.oneofKind&&p.internalBinaryWrite(e.command.rmFileCommand,n.tag(5,t.O0.LengthDelimited).fork(),o).join(),"listDirContentsCommand"===e.command.oneofKind&&E.internalBinaryWrite(e.command.listDirContentsCommand,n.tag(9,t.O0.LengthDelimited).fork(),o).join(),"mkDirCommand"===e.command.oneofKind&&k.internalBinaryWrite(e.command.mkDirCommand,n.tag(10,t.O0.LengthDelimited).fork(),o).join(),"rmDirCommand"===e.command.oneofKind&&C.internalBinaryWrite(e.command.rmDirCommand,n.tag(11,t.O0.LengthDelimited).fork(),o).join(),"resetFilesystemCommand"===e.command.oneofKind&&j.internalBinaryWrite(e.command.resetFilesystemCommand,n.tag(15,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const V=new G;class H extends s.G{constructor(){super("FileSystemResponse",[{no:1,name:"getFileContentsResponse",kind:"message",oneof:"response",T:()=>M},{no:2,name:"writeFileDataResponse",kind:"message",oneof:"response",T:()=>_},{no:4,name:"reportFileDataResponse",kind:"message",oneof:"response",T:()=>D},{no:5,name:"rmFileCommand",kind:"message",oneof:"response",T:()=>u},{no:9,name:"listDirContentsResponse",kind:"message",oneof:"response",T:()=>x},{no:10,name:"mkDirResponse",kind:"message",oneof:"response",T:()=>b},{no:11,name:"rmDirResponse",kind:"message",oneof:"response",T:()=>w},{no:15,name:"resetFilesystemResponse",kind:"message",oneof:"response",T:()=>$}])}create(e){const n={response:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.response={oneofKind:"getFileContentsResponse",getFileContentsResponse:M.internalBinaryRead(e,e.uint32(),o,r.response.getFileContentsResponse)};break;case 2:r.response={oneofKind:"writeFileDataResponse",writeFileDataResponse:_.internalBinaryRead(e,e.uint32(),o,r.response.writeFileDataResponse)};break;case 4:r.response={oneofKind:"reportFileDataResponse",reportFileDataResponse:D.internalBinaryRead(e,e.uint32(),o,r.response.reportFileDataResponse)};break;case 5:r.response={oneofKind:"rmFileCommand",rmFileCommand:u.internalBinaryRead(e,e.uint32(),o,r.response.rmFileCommand)};break;case 9:r.response={oneofKind:"listDirContentsResponse",listDirContentsResponse:x.internalBinaryRead(e,e.uint32(),o,r.response.listDirContentsResponse)};break;case 10:r.response={oneofKind:"mkDirResponse",mkDirResponse:b.internalBinaryRead(e,e.uint32(),o,r.response.mkDirResponse)};break;case 11:r.response={oneofKind:"rmDirResponse",rmDirResponse:w.internalBinaryRead(e,e.uint32(),o,r.response.rmDirResponse)};break;case 15:r.response={oneofKind:"resetFilesystemResponse",resetFilesystemResponse:$.internalBinaryRead(e,e.uint32(),o,r.response.resetFilesystemResponse)};break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){"getFileContentsResponse"===e.response.oneofKind&&M.internalBinaryWrite(e.response.getFileContentsResponse,n.tag(1,t.O0.LengthDelimited).fork(),o).join(),"writeFileDataResponse"===e.response.oneofKind&&_.internalBinaryWrite(e.response.writeFileDataResponse,n.tag(2,t.O0.LengthDelimited).fork(),o).join(),"reportFileDataResponse"===e.response.oneofKind&&D.internalBinaryWrite(e.response.reportFileDataResponse,n.tag(4,t.O0.LengthDelimited).fork(),o).join(),"rmFileCommand"===e.response.oneofKind&&u.internalBinaryWrite(e.response.rmFileCommand,n.tag(5,t.O0.LengthDelimited).fork(),o).join(),"listDirContentsResponse"===e.response.oneofKind&&x.internalBinaryWrite(e.response.listDirContentsResponse,n.tag(9,t.O0.LengthDelimited).fork(),o).join(),"mkDirResponse"===e.response.oneofKind&&b.internalBinaryWrite(e.response.mkDirResponse,n.tag(10,t.O0.LengthDelimited).fork(),o).join(),"rmDirResponse"===e.response.oneofKind&&w.internalBinaryWrite(e.response.rmDirResponse,n.tag(11,t.O0.LengthDelimited).fork(),o).join(),"resetFilesystemResponse"===e.response.oneofKind&&$.internalBinaryWrite(e.response.resetFilesystemResponse,n.tag(15,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const q=new H},9260:(e,n,o)=>{o.d(n,{_:()=>D,U:()=>E});var t=o(8899),a=o(3923),r=o(5336),s=o(3724),i=o(3033);class l extends s.G{constructor(){super("InitWriteFileStreamCommand",[{no:1,name:"fileData",kind:"message",T:()=>i.HW},{no:2,name:"fileStreamId",kind:"scalar",T:13}])}create(e){const n={fileStreamId:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.fileData=i.HW.internalBinaryRead(e,e.uint32(),o,r.fileData);break;case 2:r.fileStreamId=e.uint32();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let l=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,l)}}return r}internalBinaryWrite(e,n,o){e.fileData&&i.HW.internalBinaryWrite(e.fileData,n.tag(1,t.O0.LengthDelimited).fork(),o).join(),0!==e.fileStreamId&&n.tag(2,t.O0.Varint).uint32(e.fileStreamId);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const m=new l;class d extends s.G{constructor(){super("InitWriteFileStreamAckResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"fileStreamId",kind:"scalar",T:13},{no:3,name:"message",kind:"scalar",T:9}])}create(e){const n={success:!1,fileStreamId:0,message:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.success=e.bool();break;case 2:r.fileStreamId=e.uint32();break;case 3:r.message=e.string();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){!1!==e.success&&n.tag(1,t.O0.Varint).bool(e.success),0!==e.fileStreamId&&n.tag(2,t.O0.Varint).uint32(e.fileStreamId),""!==e.message&&n.tag(3,t.O0.LengthDelimited).string(e.message);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const c=new d;class g extends s.G{constructor(){super("WriteFileStreamCompleteResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"fileStreamId",kind:"scalar",T:13},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"fileData",kind:"message",T:()=>i.HW}])}create(e){const n={success:!1,fileStreamId:0,message:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.success=e.bool();break;case 2:r.fileStreamId=e.uint32();break;case 3:r.message=e.string();break;case 4:r.fileData=i.HW.internalBinaryRead(e,e.uint32(),o,r.fileData);break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let l=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,l)}}return r}internalBinaryWrite(e,n,o){!1!==e.success&&n.tag(1,t.O0.Varint).bool(e.success),0!==e.fileStreamId&&n.tag(2,t.O0.Varint).uint32(e.fileStreamId),""!==e.message&&n.tag(3,t.O0.LengthDelimited).string(e.message),e.fileData&&i.HW.internalBinaryWrite(e.fileData,n.tag(4,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const p=new g;class f extends s.G{constructor(){super("InitReadFileStreamCommand",[{no:1,name:"filePath",kind:"scalar",T:9},{no:2,name:"fileStreamId",kind:"scalar",T:13}])}create(e){const n={filePath:"",fileStreamId:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.filePath=e.string();break;case 2:r.fileStreamId=e.uint32();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){""!==e.filePath&&n.tag(1,t.O0.LengthDelimited).string(e.filePath),0!==e.fileStreamId&&n.tag(2,t.O0.Varint).uint32(e.fileStreamId);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const u=new f;class h extends s.G{constructor(){super("InitReadFileStreamAckResponse",[{no:1,name:"fileStatus",kind:"enum",T:()=>["GetFileStatusCode",i.WH]},{no:2,name:"fileStreamId",kind:"scalar",T:13},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"fileData",kind:"message",T:()=>i.HW}])}create(e){const n={fileStatus:0,fileStreamId:0,message:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.fileStatus=e.int32();break;case 2:r.fileStreamId=e.uint32();break;case 3:r.message=e.string();break;case 4:r.fileData=i.HW.internalBinaryRead(e,e.uint32(),o,r.fileData);break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let l=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,l)}}return r}internalBinaryWrite(e,n,o){0!==e.fileStatus&&n.tag(1,t.O0.Varint).int32(e.fileStatus),0!==e.fileStreamId&&n.tag(2,t.O0.Varint).uint32(e.fileStreamId),""!==e.message&&n.tag(3,t.O0.LengthDelimited).string(e.message),e.fileData&&i.HW.internalBinaryWrite(e.fileData,n.tag(4,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const C=new h;class y extends s.G{constructor(){super("ReadFileStreamCompleteResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"fileStreamId",kind:"scalar",T:13},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"fileData",kind:"message",T:()=>i.HW}])}create(e){const n={success:!1,fileStreamId:0,message:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.success=e.bool();break;case 2:r.fileStreamId=e.uint32();break;case 3:r.message=e.string();break;case 4:r.fileData=i.HW.internalBinaryRead(e,e.uint32(),o,r.fileData);break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let l=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,l)}}return r}internalBinaryWrite(e,n,o){!1!==e.success&&n.tag(1,t.O0.Varint).bool(e.success),0!==e.fileStreamId&&n.tag(2,t.O0.Varint).uint32(e.fileStreamId),""!==e.message&&n.tag(3,t.O0.LengthDelimited).string(e.message),e.fileData&&i.HW.internalBinaryWrite(e.fileData,n.tag(4,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const w=new y;class R extends s.G{constructor(){super("QromaStreamCommand",[{no:1,name:"initWriteFileStreamCommand",kind:"message",oneof:"command",T:()=>m},{no:2,name:"initReadFileStreamCommand",kind:"message",oneof:"command",T:()=>u}])}create(e){const n={command:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.command={oneofKind:"initWriteFileStreamCommand",initWriteFileStreamCommand:m.internalBinaryRead(e,e.uint32(),o,r.command.initWriteFileStreamCommand)};break;case 2:r.command={oneofKind:"initReadFileStreamCommand",initReadFileStreamCommand:u.internalBinaryRead(e,e.uint32(),o,r.command.initReadFileStreamCommand)};break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){"initWriteFileStreamCommand"===e.command.oneofKind&&m.internalBinaryWrite(e.command.initWriteFileStreamCommand,n.tag(1,t.O0.LengthDelimited).fork(),o).join(),"initReadFileStreamCommand"===e.command.oneofKind&&u.internalBinaryWrite(e.command.initReadFileStreamCommand,n.tag(2,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const k=new R;class T extends s.G{constructor(){super("QromaStreamResponse",[{no:1,name:"initWriteFileStreamAckResponse",kind:"message",oneof:"response",T:()=>c},{no:2,name:"writeFileStreamCompleteResponse",kind:"message",oneof:"response",T:()=>p},{no:3,name:"initReadFileStreamAckResponse",kind:"message",oneof:"response",T:()=>C},{no:4,name:"readFileStreamCompleteResponse",kind:"message",oneof:"response",T:()=>w}])}create(e){const n={response:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.response={oneofKind:"initWriteFileStreamAckResponse",initWriteFileStreamAckResponse:c.internalBinaryRead(e,e.uint32(),o,r.response.initWriteFileStreamAckResponse)};break;case 2:r.response={oneofKind:"writeFileStreamCompleteResponse",writeFileStreamCompleteResponse:p.internalBinaryRead(e,e.uint32(),o,r.response.writeFileStreamCompleteResponse)};break;case 3:r.response={oneofKind:"initReadFileStreamAckResponse",initReadFileStreamAckResponse:C.internalBinaryRead(e,e.uint32(),o,r.response.initReadFileStreamAckResponse)};break;case 4:r.response={oneofKind:"readFileStreamCompleteResponse",readFileStreamCompleteResponse:w.internalBinaryRead(e,e.uint32(),o,r.response.readFileStreamCompleteResponse)};break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){"initWriteFileStreamAckResponse"===e.response.oneofKind&&c.internalBinaryWrite(e.response.initWriteFileStreamAckResponse,n.tag(1,t.O0.LengthDelimited).fork(),o).join(),"writeFileStreamCompleteResponse"===e.response.oneofKind&&p.internalBinaryWrite(e.response.writeFileStreamCompleteResponse,n.tag(2,t.O0.LengthDelimited).fork(),o).join(),"initReadFileStreamAckResponse"===e.response.oneofKind&&C.internalBinaryWrite(e.response.initReadFileStreamAckResponse,n.tag(3,t.O0.LengthDelimited).fork(),o).join(),"readFileStreamCompleteResponse"===e.response.oneofKind&&w.internalBinaryWrite(e.response.readFileStreamCompleteResponse,n.tag(4,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const b=new T;var S=o(7506),N=o(4870);class F extends s.G{constructor(){super("QromaCommCommand",[{no:1,name:"appCommandBytes",kind:"scalar",oneof:"command",T:12},{no:2,name:"coreCommand",kind:"message",oneof:"command",T:()=>N.tp},{no:3,name:"fsCommand",kind:"message",oneof:"command",T:()=>S.NF},{no:4,name:"streamCommand",kind:"message",oneof:"command",T:()=>k}])}create(e){const n={command:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.command={oneofKind:"appCommandBytes",appCommandBytes:e.bytes()};break;case 2:r.command={oneofKind:"coreCommand",coreCommand:N.tp.internalBinaryRead(e,e.uint32(),o,r.command.coreCommand)};break;case 3:r.command={oneofKind:"fsCommand",fsCommand:S.NF.internalBinaryRead(e,e.uint32(),o,r.command.fsCommand)};break;case 4:r.command={oneofKind:"streamCommand",streamCommand:k.internalBinaryRead(e,e.uint32(),o,r.command.streamCommand)};break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){"appCommandBytes"===e.command.oneofKind&&n.tag(1,t.O0.LengthDelimited).bytes(e.command.appCommandBytes),"coreCommand"===e.command.oneofKind&&N.tp.internalBinaryWrite(e.command.coreCommand,n.tag(2,t.O0.LengthDelimited).fork(),o).join(),"fsCommand"===e.command.oneofKind&&S.NF.internalBinaryWrite(e.command.fsCommand,n.tag(3,t.O0.LengthDelimited).fork(),o).join(),"streamCommand"===e.command.oneofKind&&k.internalBinaryWrite(e.command.streamCommand,n.tag(4,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const D=new F;class O extends s.G{constructor(){super("QromaCommResponse",[{no:1,name:"appResponseBytes",kind:"scalar",oneof:"response",T:12},{no:2,name:"coreResponse",kind:"message",oneof:"response",T:()=>N.PF},{no:3,name:"fsResponse",kind:"message",oneof:"response",T:()=>S.TV},{no:5,name:"streamResponse",kind:"message",oneof:"response",T:()=>b}])}create(e){const n={response:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.response={oneofKind:"appResponseBytes",appResponseBytes:e.bytes()};break;case 2:r.response={oneofKind:"coreResponse",coreResponse:N.PF.internalBinaryRead(e,e.uint32(),o,r.response.coreResponse)};break;case 3:r.response={oneofKind:"fsResponse",fsResponse:S.TV.internalBinaryRead(e,e.uint32(),o,r.response.fsResponse)};break;case 5:r.response={oneofKind:"streamResponse",streamResponse:b.internalBinaryRead(e,e.uint32(),o,r.response.streamResponse)};break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){"appResponseBytes"===e.response.oneofKind&&n.tag(1,t.O0.LengthDelimited).bytes(e.response.appResponseBytes),"coreResponse"===e.response.oneofKind&&N.PF.internalBinaryWrite(e.response.coreResponse,n.tag(2,t.O0.LengthDelimited).fork(),o).join(),"fsResponse"===e.response.oneofKind&&S.TV.internalBinaryWrite(e.response.fsResponse,n.tag(3,t.O0.LengthDelimited).fork(),o).join(),"streamResponse"===e.response.oneofKind&&b.internalBinaryWrite(e.response.streamResponse,n.tag(5,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const E=new O},4870:(e,n,o)=>{o.d(n,{tp:()=>L,PT:()=>R,PF:()=>P});var t=o(8899),a=o(3923),r=o(5336),s=o(3724),i=o(3033);class l extends s.G{constructor(){super("QromaCommSerialIoConfig",[{no:1,name:"baudRate",kind:"scalar",T:13},{no:2,name:"rxBufferSize",kind:"scalar",T:13},{no:3,name:"txBufferSize",kind:"scalar",T:13}])}create(e){const n={baudRate:0,rxBufferSize:0,txBufferSize:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.baudRate=e.uint32();break;case 2:r.rxBufferSize=e.uint32();break;case 3:r.txBufferSize=e.uint32();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){0!==e.baudRate&&n.tag(1,t.O0.Varint).uint32(e.baudRate),0!==e.rxBufferSize&&n.tag(2,t.O0.Varint).uint32(e.rxBufferSize),0!==e.txBufferSize&&n.tag(3,t.O0.Varint).uint32(e.txBufferSize);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const m=new l;class d extends s.G{constructor(){super("QromaCommSerialProcessingConfig",[{no:1,name:"msDelayInProcessingLoop",kind:"scalar",T:13}])}create(e){const n={msDelayInProcessingLoop:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.msDelayInProcessingLoop=e.uint32();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){0!==e.msDelayInProcessingLoop&&n.tag(1,t.O0.Varint).uint32(e.msDelayInProcessingLoop);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const c=new d;class g extends s.G{constructor(){super("QromaCoreLoggingConfig",[{no:1,name:"logLevel",kind:"enum",T:()=>["Qroma_LogLevel",i.wK]}])}create(e){const n={logLevel:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.logLevel=e.int32();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){0!==e.logLevel&&n.tag(1,t.O0.Varint).int32(e.logLevel);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const p=new g;class f extends s.G{constructor(){super("HeartbeatConfiguration",[{no:1,name:"heartbeatType",kind:"enum",T:()=>["HeartbeatType",i.LS]},{no:2,name:"heartbeatIntervalInMs",kind:"scalar",T:13}])}create(e){const n={heartbeatType:0,heartbeatIntervalInMs:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.heartbeatType=e.int32();break;case 2:r.heartbeatIntervalInMs=e.uint32();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){0!==e.heartbeatType&&n.tag(1,t.O0.Varint).int32(e.heartbeatType),0!==e.heartbeatIntervalInMs&&n.tag(2,t.O0.Varint).uint32(e.heartbeatIntervalInMs);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const u=new f;class h extends s.G{constructor(){super("QromaCoreManagementConfiguration",[{no:1,name:"projectLoopDelayInMs",kind:"scalar",T:13},{no:2,name:"heartbeatConfiguration",kind:"message",T:()=>u}])}create(e){const n={projectLoopDelayInMs:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.projectLoopDelayInMs=e.uint32();break;case 2:r.heartbeatConfiguration=u.internalBinaryRead(e,e.uint32(),o,r.heartbeatConfiguration);break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){0!==e.projectLoopDelayInMs&&n.tag(1,t.O0.Varint).uint32(e.projectLoopDelayInMs),e.heartbeatConfiguration&&u.internalBinaryWrite(e.heartbeatConfiguration,n.tag(2,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const C=new h;class y extends s.G{constructor(){super("QromaCoreConfig",[{no:1,name:"serialIoConfig",kind:"message",T:()=>m},{no:2,name:"serialProcessingConfig",kind:"message",T:()=>c},{no:3,name:"loggingConfig",kind:"message",T:()=>p},{no:4,name:"managementConfig",kind:"message",T:()=>C}])}create(e){const n={};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.serialIoConfig=m.internalBinaryRead(e,e.uint32(),o,r.serialIoConfig);break;case 2:r.serialProcessingConfig=c.internalBinaryRead(e,e.uint32(),o,r.serialProcessingConfig);break;case 3:r.loggingConfig=p.internalBinaryRead(e,e.uint32(),o,r.loggingConfig);break;case 4:r.managementConfig=C.internalBinaryRead(e,e.uint32(),o,r.managementConfig);break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){e.serialIoConfig&&m.internalBinaryWrite(e.serialIoConfig,n.tag(1,t.O0.LengthDelimited).fork(),o).join(),e.serialProcessingConfig&&c.internalBinaryWrite(e.serialProcessingConfig,n.tag(2,t.O0.LengthDelimited).fork(),o).join(),e.loggingConfig&&p.internalBinaryWrite(e.loggingConfig,n.tag(3,t.O0.LengthDelimited).fork(),o).join(),e.managementConfig&&C.internalBinaryWrite(e.managementConfig,n.tag(4,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const w=new y;let R=function(e){return e[e.Qc_Nac_NotSet=0]="Qc_Nac_NotSet",e[e.Qc_Nac_GetQromaCoreConfig=1]="Qc_Nac_GetQromaCoreConfig",e[e.Qc_Nac_GetQromaCoreFirmwareDetails=2]="Qc_Nac_GetQromaCoreFirmwareDetails",e[e.Qc_Nac_DisableCoreHeartbeat=3]="Qc_Nac_DisableCoreHeartbeat",e[e.Qc_Nac_EnableCoreHeartbeat=4]="Qc_Nac_EnableCoreHeartbeat",e[e.Qc_Nac_DisableLogging=5]="Qc_Nac_DisableLogging",e[e.Qc_Nac_EnableAllLogging=6]="Qc_Nac_EnableAllLogging",e}({});class k extends s.G{constructor(){super("GetQromaCoreConfigCommand",[{no:1,name:"ignoreThis",kind:"scalar",T:13}])}create(e){const n={ignoreThis:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.ignoreThis=e.uint32();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){0!==e.ignoreThis&&n.tag(1,t.O0.Varint).uint32(e.ignoreThis);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}new k;class T extends s.G{constructor(){super("GetQromaCoreFirmwareDetailsCommand",[{no:1,name:"ignoreThis",kind:"scalar",T:13}])}create(e){const n={ignoreThis:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.ignoreThis=e.uint32();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){0!==e.ignoreThis&&n.tag(1,t.O0.Varint).uint32(e.ignoreThis);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}new T;class b extends s.G{constructor(){super("RestartQromaDeviceCommand",[{no:1,name:"areYouSure",kind:"scalar",T:8}])}create(e){const n={areYouSure:!1};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.areYouSure=e.bool();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){!1!==e.areYouSure&&n.tag(1,t.O0.Varint).bool(e.areYouSure);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const S=new b;class N extends s.G{constructor(){super("RestartQromaDeviceAck",[{no:1,name:"youWerentSureSoWeDidnt",kind:"scalar",T:13}])}create(e){const n={youWerentSureSoWeDidnt:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.youWerentSureSoWeDidnt=e.uint32();else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){0!==e.youWerentSureSoWeDidnt&&n.tag(1,t.O0.Varint).uint32(e.youWerentSureSoWeDidnt);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const F=new N;class D extends s.G{constructor(){super("SetQromaCommSerialIoConfigCommand",[{no:1,name:"config",kind:"message",T:()=>m}])}create(e){const n={};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.config=m.internalBinaryRead(e,e.uint32(),o,r.config);else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){e.config&&m.internalBinaryWrite(e.config,n.tag(1,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const O=new D;class E extends s.G{constructor(){super("SetQromaCommSerialProcessingConfig",[{no:1,name:"config",kind:"message",T:()=>c}])}create(e){const n={};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.config=c.internalBinaryRead(e,e.uint32(),o,r.config);else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){e.config&&c.internalBinaryWrite(e.config,n.tag(1,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const v=new E;class x extends s.G{constructor(){super("SetQromaCoreLoggingConfigCommand",[{no:1,name:"config",kind:"message",T:()=>p}])}create(e){const n={};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.config=p.internalBinaryRead(e,e.uint32(),o,r.config);else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){e.config&&p.internalBinaryWrite(e.config,n.tag(1,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const I=new x;class B extends s.G{constructor(){super("SetHeartbeatConfigurationCommand",[{no:1,name:"config",kind:"message",T:()=>u}])}create(e){const n={};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.config=u.internalBinaryRead(e,e.uint32(),o,r.config);else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){e.config&&u.internalBinaryWrite(e.config,n.tag(1,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}new B;class j extends s.G{constructor(){super("SetQromaCoreManagementConfiguration",[{no:1,name:"config",kind:"message",T:()=>C}])}create(e){const n={};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();if(1===n)r.config=C.internalBinaryRead(e,e.uint32(),o,r.config);else{let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){e.config&&C.internalBinaryWrite(e.config,n.tag(1,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const W=new j;class $ extends s.G{constructor(){super("QromaCoreCommand",[{no:1,name:"noArgCommand",kind:"enum",oneof:"command",T:()=>["QromaCoreNoArgCommands",R]},{no:2,name:"restartQromaDevice",kind:"message",oneof:"command",T:()=>S},{no:3,name:"setQromaCommSerialIoConfig",kind:"message",oneof:"command",T:()=>O},{no:4,name:"setQromaCommSerialProcessingConfig",kind:"message",oneof:"command",T:()=>v},{no:5,name:"setQromaCoreLoggingConfig",kind:"message",oneof:"command",T:()=>I},{no:6,name:"setQromaCoreManagementConfiguration",kind:"message",oneof:"command",T:()=>W}])}create(e){const n={command:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.command={oneofKind:"noArgCommand",noArgCommand:e.int32()};break;case 2:r.command={oneofKind:"restartQromaDevice",restartQromaDevice:S.internalBinaryRead(e,e.uint32(),o,r.command.restartQromaDevice)};break;case 3:r.command={oneofKind:"setQromaCommSerialIoConfig",setQromaCommSerialIoConfig:O.internalBinaryRead(e,e.uint32(),o,r.command.setQromaCommSerialIoConfig)};break;case 4:r.command={oneofKind:"setQromaCommSerialProcessingConfig",setQromaCommSerialProcessingConfig:v.internalBinaryRead(e,e.uint32(),o,r.command.setQromaCommSerialProcessingConfig)};break;case 5:r.command={oneofKind:"setQromaCoreLoggingConfig",setQromaCoreLoggingConfig:I.internalBinaryRead(e,e.uint32(),o,r.command.setQromaCoreLoggingConfig)};break;case 6:r.command={oneofKind:"setQromaCoreManagementConfiguration",setQromaCoreManagementConfiguration:W.internalBinaryRead(e,e.uint32(),o,r.command.setQromaCoreManagementConfiguration)};break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){"noArgCommand"===e.command.oneofKind&&n.tag(1,t.O0.Varint).int32(e.command.noArgCommand),"restartQromaDevice"===e.command.oneofKind&&S.internalBinaryWrite(e.command.restartQromaDevice,n.tag(2,t.O0.LengthDelimited).fork(),o).join(),"setQromaCommSerialIoConfig"===e.command.oneofKind&&O.internalBinaryWrite(e.command.setQromaCommSerialIoConfig,n.tag(3,t.O0.LengthDelimited).fork(),o).join(),"setQromaCommSerialProcessingConfig"===e.command.oneofKind&&v.internalBinaryWrite(e.command.setQromaCommSerialProcessingConfig,n.tag(4,t.O0.LengthDelimited).fork(),o).join(),"setQromaCoreLoggingConfig"===e.command.oneofKind&&I.internalBinaryWrite(e.command.setQromaCoreLoggingConfig,n.tag(5,t.O0.LengthDelimited).fork(),o).join(),"setQromaCoreManagementConfiguration"===e.command.oneofKind&&W.internalBinaryWrite(e.command.setQromaCoreManagementConfiguration,n.tag(6,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const L=new $;class A extends s.G{constructor(){super("QromaCoreResponse",[{no:1,name:"qromaCoreConfig",kind:"message",oneof:"response",T:()=>w},{no:2,name:"heartbeat",kind:"message",oneof:"response",T:()=>i.OU},{no:3,name:"firmwareDetails",kind:"message",oneof:"response",T:()=>i.Uq},{no:4,name:"restartAck",kind:"message",oneof:"response",T:()=>F}])}create(e){const n={response:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.response={oneofKind:"qromaCoreConfig",qromaCoreConfig:w.internalBinaryRead(e,e.uint32(),o,r.response.qromaCoreConfig)};break;case 2:r.response={oneofKind:"heartbeat",heartbeat:i.OU.internalBinaryRead(e,e.uint32(),o,r.response.heartbeat)};break;case 3:r.response={oneofKind:"firmwareDetails",firmwareDetails:i.Uq.internalBinaryRead(e,e.uint32(),o,r.response.firmwareDetails)};break;case 4:r.response={oneofKind:"restartAck",restartAck:F.internalBinaryRead(e,e.uint32(),o,r.response.restartAck)};break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let l=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,l)}}return r}internalBinaryWrite(e,n,o){"qromaCoreConfig"===e.response.oneofKind&&w.internalBinaryWrite(e.response.qromaCoreConfig,n.tag(1,t.O0.LengthDelimited).fork(),o).join(),"heartbeat"===e.response.oneofKind&&i.OU.internalBinaryWrite(e.response.heartbeat,n.tag(2,t.O0.LengthDelimited).fork(),o).join(),"firmwareDetails"===e.response.oneofKind&&i.Uq.internalBinaryWrite(e.response.firmwareDetails,n.tag(3,t.O0.LengthDelimited).fork(),o).join(),"restartAck"===e.response.oneofKind&&F.internalBinaryWrite(e.response.restartAck,n.tag(4,t.O0.LengthDelimited).fork(),o).join();let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const P=new A},3033:(e,n,o)=>{o.d(n,{HW:()=>g,LS:()=>m,OU:()=>h,Uq:()=>f,WH:()=>l,wK:()=>i});var t=o(8899),a=o(3923),r=o(5336),s=o(3724);let i=function(e){return e[e.LogLevel_All=0]="LogLevel_All",e[e.LogLevel_Info=10]="LogLevel_Info",e[e.LogLevel_Error=100]="LogLevel_Error",e[e.LogLevel_Nothing=255]="LogLevel_Nothing",e}({}),l=function(e){return e[e.GFSC_NOT_SET=0]="GFSC_NOT_SET",e[e.GFSC_FILE_EXISTS=1]="GFSC_FILE_EXISTS",e[e.GFSC_ERR_OPEN_FILE=2]="GFSC_ERR_OPEN_FILE",e[e.GFSC_ERR_INVALID_FILE_PATH=3]="GFSC_ERR_INVALID_FILE_PATH",e}({}),m=function(e){return e[e.HeartbeatType_NotSet=0]="HeartbeatType_NotSet",e[e.HeartbeatType_None=1]="HeartbeatType_None",e[e.HeartbeatType_Interval=2]="HeartbeatType_Interval",e}({});class d extends s.G{constructor(){super("Qroma_LogMessage",[{no:1,name:"tick",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9}])}create(e){const n={tick:0,message:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.tick=e.uint32();break;case 2:r.message=e.string();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){0!==e.tick&&n.tag(1,t.O0.Varint).uint32(e.tick),""!==e.message&&n.tag(2,t.O0.LengthDelimited).string(e.message);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}new d;class c extends s.G{constructor(){super("FileData",[{no:1,name:"filename",kind:"scalar",T:9},{no:2,name:"filesize",kind:"scalar",T:13},{no:3,name:"checksum",kind:"scalar",T:13}])}create(e){const n={filename:"",filesize:0,checksum:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.filename=e.string();break;case 2:r.filesize=e.uint32();break;case 3:r.checksum=e.uint32();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){""!==e.filename&&n.tag(1,t.O0.LengthDelimited).string(e.filename),0!==e.filesize&&n.tag(2,t.O0.Varint).uint32(e.filesize),0!==e.checksum&&n.tag(3,t.O0.Varint).uint32(e.checksum);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const g=new c;class p extends s.G{constructor(){super("FirmwareDetails",[{no:1,name:"buildTime",kind:"scalar",T:9},{no:2,name:"qromaFirmwareLibVersion",kind:"scalar",T:9},{no:3,name:"qromaDeviceFirmwareVersion",kind:"scalar",T:9}])}create(e){const n={buildTime:"",qromaFirmwareLibVersion:"",qromaDeviceFirmwareVersion:""};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.buildTime=e.string();break;case 2:r.qromaFirmwareLibVersion=e.string();break;case 3:r.qromaDeviceFirmwareVersion=e.string();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){""!==e.buildTime&&n.tag(1,t.O0.LengthDelimited).string(e.buildTime),""!==e.qromaFirmwareLibVersion&&n.tag(2,t.O0.LengthDelimited).string(e.qromaFirmwareLibVersion),""!==e.qromaDeviceFirmwareVersion&&n.tag(3,t.O0.LengthDelimited).string(e.qromaDeviceFirmwareVersion);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const f=new p;class u extends s.G{constructor(){super("HeartbeatResponse",[{no:1,name:"uptimeInMs",kind:"scalar",T:13},{no:2,name:"heartbeatTicks",kind:"scalar",T:13}])}create(e){const n={uptimeInMs:0,heartbeatTicks:0};return globalThis.Object.defineProperty(n,r.$,{enumerable:!1,value:this}),void 0!==e&&(0,a.x)(this,n,e),n}internalBinaryRead(e,n,o,a){let r=a??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,a]=e.tag();switch(n){case 1:r.uptimeInMs=e.uint32();break;case 2:r.heartbeatTicks=e.uint32();break;default:let s=o.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${a}) for ${this.typeName}`);let i=e.skip(a);!1!==s&&(!0===s?t.f$.onRead:s)(this.typeName,r,n,a,i)}}return r}internalBinaryWrite(e,n,o){0!==e.uptimeInMs&&n.tag(1,t.O0.Varint).uint32(e.uptimeInMs),0!==e.heartbeatTicks&&n.tag(2,t.O0.Varint).uint32(e.heartbeatTicks);let a=o.writeUnknownFields;return!1!==a&&(1==a?t.f$.onWrite:a)(this.typeName,e,n),n}}const h=new u},7472:(e,n,o)=>{o.d(n,{_:()=>t});const t=(e,n)=>{if(void 0===n)throw Error("sendQromaAppCommand() failure - no commandMessageType provided on IUseQromaAppWebSerialInputs");console.log("RAW APP COMMAND"),console.log(e);try{const o=n.toBinary(e);console.log("BYTES DONE"),console.log(o);const t={command:{oneofKind:"appCommandBytes",appCommandBytes:o}};return console.log("QROMA COMM COMMAND READY"),console.log(t),console.log(e),t}catch(o){return console.log("UNABLE TO JSON FROM COMMAND MESSAGE"),void console.log(o)}}},2227:(e,n,o)=>{o.d(n,{d:()=>d});var t=o(6995),a=o(2046),r=o(6540),s=o(1042),i=o(6967),l=o(3033);const m=e=>{let n,o,r="awaiting-init-ack",s=!1,m=-1,d=!1,c=new Uint8Array,g=!1;const p=e=>(console.log("IN DFC RX"),console.log(e),"streamResponse"!==e.response.oneofKind||"initReadFileStreamAckResponse"!==e.response.streamResponse.response.oneofKind||(console.log("ACK RX - initReadFileStreamAckResponse"),r="awaiting-all-bytes",n=e.response.streamResponse.response.initReadFileStreamAckResponse,s=n.fileStatus===l.WH.GFSC_FILE_EXISTS,n.fileStatus!==l.WH.GFSC_FILE_EXISTS&&(console.log("UNSUCCESSFUL ACK RESPONSE"),console.log(n),r="complete-err"),m=n.fileData.filesize,r="awaiting-all-bytes",console.log("CHECK FOR ACK RESULT DONE"),!1)),f=e=>{if("streamResponse"===e.response.oneofKind&&"readFileStreamCompleteResponse"===e.response.streamResponse.response.oneofKind){if(console.log("COMPLETE RX - readFileStreamCompleteResponse"),o=e.response.streamResponse.response.readFileStreamCompleteResponse,g=o.success,!g)return console.log("UNSUCCESSFUL TX COMPLETE RESPONSE"),console.log(o),void(r="complete-err");const a=(0,t.QR)(c);if(a!==n.fileData.checksum)return console.log("TX CHECKSUM MISMATCH"),console.log(n),console.log(a),console.log(c),void(r="complete-err");r="complete-success"}return!0},u=Date.now()+e,h=(0,i.p)("downloadRx");return console.log("CREATING DEFAULT QROMA PARSER"),{hasTimeoutOccurred:()=>Date.now()>u,onTimeout:()=>{console.log("IQromaCommDownloadFileContentsRxHandler timed out")},onRx:e=>{console.log("xyz");try{switch(console.log("abc"),console.log("IQromaCommDownloadFileContentsRxHandler - onRx!!!()"),console.log("IQromaCommDownloadFileContentsRxHandler - onRx2()",r,e),console.log("#4"),console.log("IQromaCommDownloadFileContentsRxHandler - onRx3()a"),console.log(r),r){case"awaiting-init-ack":return console.log("start to handle init ack check"),h.parse(e,p);case"awaiting-all-bytes":return(e=>{const n=m-c.length,o=e.slice(0,n),t=e.slice(n);return c=(0,a.KC)(c,o),console.log("TOTAL FILE BYTES COUNT: "+c.length),c.length>=m&&(r="awaiting-msg-complete",d=!0,console.log("ALL FILE BYTES RECEIVED: "+c.length),console.log(t)),t})(e);case"awaiting-msg-complete":return h.parse(e,f);default:return console.log("UNEXPECTED DOWNLOAD STAGE"),console.log(r),new Uint8Array}}catch(n){console.log("ON RX ERROR"),console.log(n)}return new Uint8Array},isRxComplete:()=>"complete-success"===r||"complete-err"===r,getFileBytes:()=>c,getDownloadStage:()=>r,getAckResponse:()=>n,getTxCompleteResult:()=>o}},d=()=>{console.log("STARTING QromaCommFileSystemRxApi");const[e,n]=(0,r.useState)({isConnected:!1,isMonitorOn:!1,isPortConnected:!1,isQromaMonitoringOn:!1,isWebSerialConnected:!1,keepQromaMonitoringOn:!1}),o=(0,s.o)((e=>{var o;console.log("ON CONN CHANGE"),o=e,console.log("SET CONNECTION STATE"),console.log(o),n(o)})),l=async(e,n)=>{const a=(0,t.QR)(n),r={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"writeFileDataCommand",writeFileDataCommand:{fileBytes:n,fileData:{filename:e,filesize:n.length,checksum:a}}}}}};await o.sendQromaCommCommand(r)},d=async(e,n)=>{const r=(0,t.QR)(n),s={command:{oneofKind:"streamCommand",streamCommand:{command:{oneofKind:"initWriteFileStreamCommand",initWriteFileStreamCommand:{fileStreamId:Math.floor(Date.now()/1e3),fileData:{filename:e,filesize:n.length,checksum:r}}}}}},l=await(async()=>{let e,n=!1;const t=Date.now()+2500,r=(0,i.p)("_streamFileContentsAck"),l=n=>(console.log("CHECKING MESSAGES FOR STREAM ACK"),console.log(n),"streamResponse"===n.response.oneofKind&&"initWriteFileStreamAckResponse"===n.response.streamResponse.response.oneofKind&&(console.log("FOUND IT! RX rxOnQromaCommAckResponse"),console.log(n),e=n.response.streamResponse.response.initWriteFileStreamAckResponse),!0);let m={hasTimeoutOccurred:()=>Date.now()>t,onTimeout:()=>{n=!0},onRx:e=>{console.log("RX rxOnQromaCommAckResponse ??");const n=r.parse(e,l);return console.log(n),n},isRxComplete:()=>void 0!==e};return(0,a.j2)("pre sendQromaCommCommandRx() - init write"),await o.sendQromaCommCommandRx(s,m),(0,a.j2)("done sendQromaCommCommandRx - init write"),console.log(e),console.log(n),void 0!==e})();console.log("initSuccess RESPONSE"),console.log(l);(async e=>{await o.qromaWebSerial.sendBytesInChunks(e,50,50)})(n),console.log("DONE WAITING FOR STREAQM SEND");const m=await(async()=>{let e=!1;const t=1.5*n.length,a=Date.now()+t,r=(0,i.p)("_waitForUploadToComplete"),s=e=>(console.log("CHECKING MESSAGES FOR STREAM COMPLETE"),console.log(e),"streamResponse"===e.response.oneofKind&&"writeFileStreamCompleteResponse"===e.response.streamResponse.response.oneofKind&&(console.log("FILTER SUCCESS"),l=e.response.streamResponse.response.writeFileStreamCompleteResponse),!0);let l,m={hasTimeoutOccurred:()=>Date.now()>a,onTimeout:()=>{console.log("RX rxOnQromaCommCompleteResponse TIMED OUT"),e=!0},onRx:e=>(console.log("RX rxOnQromaCommCompleteResponse"),r.parse(e,s)),isRxComplete:()=>{const e=void 0!==l;return console.log("UPLOAD RX IS COMPLETE? CHECK: "+e),e}};return await o.monitorRx(m),console.log("DONE WAITING FOR RX COMPLETE CHECK"),console.log(m.isRxComplete()),console.log(m.hasTimeoutOccurred()),console.log("RECEIVED SEND COMPLETE RESPONSE"),console.log(l),console.log(e),void 0!==l})();console.log("uploadComplete RESPONSE"),console.log(m)};return{init:()=>{o.startMonitoring()},getFileDetailsRx:async e=>{console.log("GET FILE DETAILS RX");const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"reportFileDataCommand",reportFileDataCommand:{filePath:e}}}}};let t,a=!1;const r=Date.now()+2e3,s=(0,i.p)("getFileDetailsRx"),l=e=>("fsResponse"===e.response.oneofKind&&"reportFileDataResponse"===e.response.fsResponse.response.oneofKind&&(t=e.response.fsResponse.response.reportFileDataResponse),!0);let m={hasTimeoutOccurred:()=>Date.now()>r,onTimeout:()=>{a=!0},onRx:e=>s.parse(e,l),isRxComplete:()=>void 0!==t};return await o.sendQromaCommCommandRx(n,m),console.log("FILE DETAILS RESULT RX"),console.log(t),console.log(a),t},getFileContents:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"getFileContentsCommand",getFileContentsCommand:{filePath:e}}}}};let t,a=!1;const r=Date.now()+2e3,s=(0,i.p)("getFileDetailsRx"),l=e=>("fsResponse"===e.response.oneofKind&&"getFileContentsResponse"===e.response.fsResponse.response.oneofKind&&(t=e.response.fsResponse.response.getFileContentsResponse),!0);let m={hasTimeoutOccurred:()=>Date.now()>r,onTimeout:()=>{a=!0},onRx:e=>s.parse(e,l),isRxComplete:()=>void 0!==t};return await o.sendQromaCommCommandRx(n,m),console.log("GetFileContentsResponse RX"),console.log(t),console.log(a),t},writeFileContents:async(e,n)=>n.length<500?await l(e,n):await d(e,n),downloadFileContents:async e=>{const n={command:{oneofKind:"streamCommand",streamCommand:{command:{oneofKind:"initReadFileStreamCommand",initReadFileStreamCommand:{filePath:e,fileStreamId:Math.floor(Date.now()/1e3)}}}}},t=m(5e3);return await o.sendQromaCommCommandRx(n,t),"complete-success"===t.getDownloadStage()?t.getFileBytes():(console.log("DOWNLOAD DIDN'T COMPLETE SUCCESSFULLY"),console.log(t),null)},rmFile:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"rmFileCommand",rmFileCommand:{filePath:e}}}}};console.log(n),await o.sendQromaCommCommand(n)},listDir:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"listDirContentsCommand",listDirContentsCommand:{dirPath:e,startsWithConstraint:"",endsWithConstraint:""}}}}};let t,a=!1;const r=Date.now()+2e3,s=(0,i.p)("listDir"),l=e=>("fsResponse"===e.response.oneofKind&&"listDirContentsResponse"===e.response.fsResponse.response.oneofKind&&(t=e.response.fsResponse.response.listDirContentsResponse),!0);let m={hasTimeoutOccurred:()=>Date.now()>r,onTimeout:()=>{a=!0},onRx:e=>s.parse(e,l),isRxComplete:()=>void 0!==t};return await o.sendQromaCommCommandRx(n,m),console.log("listDir RESULT RX"),console.log(t),console.log(a),t},mkDir:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"mkDirCommand",mkDirCommand:{dirPath:e}}}}};let t,a=!1;const r=Date.now()+2e3,s=(0,i.p)("mkDir"),l=e=>("fsResponse"===e.response.oneofKind&&"listDirContentsResponse"===e.response.fsResponse.response.oneofKind&&(t=e.response.fsResponse.response.listDirContentsResponse),!0);let m={hasTimeoutOccurred:()=>Date.now()>r,onTimeout:()=>{a=!0},onRx:e=>s.parse(e,l),isRxComplete:()=>void 0!==t};return await o.sendQromaCommCommandRx(n,m),console.log("mkDir RESULT RX"),console.log(t),console.log(a),t},rmDir:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"rmDirCommand",rmDirCommand:{dirPath:e}}}}};await o.sendQromaCommCommand(n)},connectionState:o.getConnectionState(),unsubscribe:o.unsubscribe}}},6967:(e,n,o)=>{o.d(n,{p:()=>r});var t=o(8287),a=o(9260);const r=e=>({parse:(n,o)=>{let r=new Uint8Array(n),s=!0;for(;s;){let n=r.findIndex((e=>10===e));if(-1===n)return r;if(0!==n)try{const l=r.slice(0,n);r=r.slice(n+1,r.length);const m=(new TextDecoder).decode(l);console.log("QCP - DEV RESPONSE: "+m),console.log("QCP - DEV REMAINING: "+(new TextDecoder).decode(r));try{const r=t.hp.from(m,"base64"),i=a.U.fromBinary(r);console.log("RESPONSE FROM BYTES - "+e),console.log(i),console.log("DefaultQromaParser - parse() has QC response"),console.log(i),n=0,s=o(i),s||console.log("QROMA COMM PARSING CANCELED")}catch(i){}}catch(i){}else r=r.slice(1,r.length)}return r}})},1042:(e,n,o)=>{o.d(n,{o:()=>i});var t=o(8287),a=o(4724),r=o(9260),s=o(2046);const i=e=>{if(!window)throw Error("Not running in a browser");let n,o=new Uint8Array;const i=e=>{n=e,console.log("ENTER RX MODE",n)},l=()=>{n=void 0,console.log("EXIT RX MODE",n)},m=(0,a.a)((e=>{console.log("QromaCommWebSerial RX - onData - "+e.length+" bytes"),console.log(n),console.log(e);let t=(0,s.KC)(o,e);if(n){console.log("QROMA COMM RX PARSING");let e=t,r=e.length+1;for(;e.length<r;)console.log("ONRX DATA"),console.log(e),r=e.length,e=n.onRx(e);a=e,console.log("SETTING RX BUFFER"),console.log(a),o=a,console.log("FINISH QROMA COMM RX PARSING")}var a}),e);return{startMonitoring:async()=>{try{console.log("COMM WEB SERIAL - START"),m.startMonitoring(),console.log("COMM WEB SERIAL - START - CONNECTED")}catch(e){console.log("COMM WEB SERIAL - ON CONNECTION FALSE"),console.log(e)}},getConnectionState:m.getConnectionState,stopMonitoring:m.stopMonitoring,sendQromaCommCommand:async e=>{if(!m.getConnectionState().isWebSerialConnected)return console.log("sendQromaCommCommand - CAN'T SEND COMMAND - NO CONNECTION"),void console.log(e);const n=r._.toBinary(e);console.log(n);const o=t.hp.from(n).toString("base64")+"\n";console.log(o),console.log(o.length),await m.sendString(o)},sendQromaCommCommandRx:async(e,o)=>{if(console.log("STARTING sendQromaCommCommandRx()"),!m.getConnectionState().isWebSerialConnected)return console.log("sendQromaCommCommand - CAN'T SEND COMMAND - NO CONNECTION"),void console.log(e);if(void 0!==n){const e="_qromaCommRxHandler already assigned - not handling";throw console.log(e),new Error(e)}const a=r._.toBinary(e);console.log(a);const d=t.hp.from(a).toString("base64")+"\n";for(console.log(d),console.log(d.length),i(o),m.sendString(d),(0,s.j2)("START WAITING FOR COMM RX TO COMPLETE");!o.isRxComplete()&&!o.hasTimeoutOccurred();)(0,s.j2)("WAITING FOR COMM RX TO COMPLETE - "),await(0,s.yy)(25);console.log("IS RX COMPLETE???"),console.log(o.isRxComplete()),console.log(o.hasTimeoutOccurred()),l()},monitorRx:async e=>{for(i(e);!e.isRxComplete()&&!e.hasTimeoutOccurred();)await(0,s.yy)(25);l()},qromaWebSerial:m,unsubscribe:m.unsubscribe}}}}]);